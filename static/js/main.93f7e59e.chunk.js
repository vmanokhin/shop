(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(e,t,a){e.exports=a(346)},329:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=a(49),l=a(12),u=a(100),s=a(135),d=a(399),p=a(121),m=a(43),f=a(125),h=a(167),b=a(168),g=a.n(b),v=a(11),E="https://git.heroku.com/shop-mocky/api",O=["en","ru"];f.a.use(h.a).use(g.a).use(v.a).init({lowerCaseLng:!0,whitelist:O,preload:["en"],fallbackLng:"en",returnNull:!0,debug:!1,backend:{loadPath:"./locales/{{lng}}.json"},detection:{order:["localStorage","navigator"]},react:{wait:!0}});f.a;var y=a(47),j=a(172),C=a(75),k=a(400),S=a(62),w=a.n(S),_=a(81),I=a(27),x=a(35),N=a(173),P=a.n(N).a.create({mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*"},credentials:"same-origin",withCredentials:!0,crossDomain:!0});function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new I.c;return e.reduce(function(e,a){return e.set(a.id,t(a))},new I.c)}var T="".concat("shop","/").concat("products"),D="".concat(T,"/PRODUCT"),L="".concat(T,"/PRODUCTS_REQUEST"),U="".concat(T,"/PRODUCTS_SUCCESS"),A="".concat(T,"/PRODUCTS_FAILURE"),M="".concat(T,"/PRODUCT_BY_ID_REQUEST"),H="".concat(T,"/PRODUCT_BY_ID_SUCCESS"),z="".concat(T,"/PRODUCT_BY_ID_FAILURE"),F=Object(I.d)({id:"",name:"",image:"",text:"",color:"",price:0,material:"",categoryId:"",company:""},"ProductModel"),B=Object(I.d)({entities:new I.c,loading:!1,loaded:!1,fullLoaded:!0,error:!1},"ProductsReducerRecord");var W=function(e){return e.products.entities},q=function(e){return e.products.entities.size},V=Object(x.a)(W,function(e){return e}),X=Object(x.a)(W,function(e,t){return t},function(e,t){if(t&&e.has(t))return e.get(t)});var Y=a(174),$=a.n(Y),G="".concat("shop","/").concat("cart"),J="".concat(G,"/ADD_TO_CART"),Q="".concat(G,"/PRODUCT_INCREMENT"),K="".concat(G,"/PRODUCT_DECREMENT"),Z="".concat(G,"/PRODUCT_DELETE"),ee="".concat(G,"/CLEAR_CART"),te=Object(I.d)({ids:Object(I.a)()},"CartReducerRecord");var ae=function(e){return e.cart.ids.size},ne=Object(x.a)(function(e){return e.cart.ids},function(e){return e.toArray()}),re=Object(x.a)(ne,function(e){return $()(e).sort(function(e,t){return e.localeCompare(t)})}),ce=Object(x.a)(ne,function(e,t){return t.id},function(e,t){return e.filter(function(e){return e===t}).length});function oe(e){return{type:J,payload:{id:e}}}var ie=a(40),le="".concat("shop","/").concat("filters"),ue="price_asc",se=[ue,"price_desc"],de="".concat(le,"/SUBMIT_SEARCH_FORM"),pe="".concat(le,"/CHANGE_SORT_PROPERTY"),me="".concat(le,"/FILTERS_START"),fe="".concat(le,"/FILTERS_SUCCESS"),he="".concat(le,"/FILTERS_FAILURE"),be="".concat(le,"/SET_CURRENT_CATEGORY"),ge="".concat(le,"/SET_PRICES"),ve=Object(I.d)({id:"",name:""},"CategoryModel"),Ee=Object(I.d)({loaded:!1,loading:!1,categories:new I.c,activeCategoryId:"",sortProperty:ue,search:"",priceStart:0,priceEnd:0,defaults:new I.b({priceMin:0,priceMax:0})},"FiltersReducerRecord");var Oe,ye=function(e){return e.filters.defaults},je=function(e){return e.filters.priceStart},Ce=function(e){return e.filters.priceEnd},ke=Object(x.a)(function(e){return e.filters.categories},function(e){return e.valueSeq().toArray()}),Se=Object(x.a)(je,Ce,function(e,t){return[e,t]});var we=Object(y.c)((Oe={form:k.a},Object(C.a)(Oe,"products",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new B,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case L:case M:return e.set("loading",!0);case H:var r=n.product;return r&&r.id?e.set("loading",!1).update("entities",function(e){return e.set(r.id,F(r))}):e;case U:return e.set("loading",!1).set("loaded",!0).set("fullLoaded",n.isLast).set("error",!1).update("entities",function(e){return e.merge(R(n.entities,F))});case z:case A:return e.set("loading",!1).set("error",!0);default:return e}}),Object(C.a)(Oe,"cart",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new te,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Z:return e.updateIn(["ids"],function(e){return e.filter(function(e){return e!==n.id})});case K:return e.deleteIn(["ids",e.get("ids").indexOf(n.id)]);case Q:case J:return e.mergeIn(["ids"],n.id);case ee:return new te;default:return e}}),Object(C.a)(Oe,"filters",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case de:return e.set("search",n.value||"");case pe:return e.set("sortProperty",n.value||ue);case be:return e.set("activeCategoryId",n.id);case ge:var r=n.start,c=n.end;return e.set("priceStart",r).set("priceEnd",c);case me:return e.set("loading",!0);case fe:var o=n.categories,i=n.price;return e.update("categories",function(e){return e.merge(R(o,ve))}).setIn(["defaults","priceMin"],i.min).setIn(["defaults","priceMax"],i.max).set("loaded",!0).set("loading",!1);case he:return e.set("loading",!1).set("error",!0);default:return e}}),Oe)),_e=[j.a],Ie=y.a.apply(void 0,_e),xe=Object(y.e)(we,{},Object(y.d)(Ie,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Ne=a(19),Pe=a(20),Re=a(22),Te=a(21),De=a(23),Le=a(398),Ue=(a(329),a(98)),Ae=a(384),Me=a(385),He=a(85),ze=a(188),Fe=a(178),Be=a.n(Fe),We=a(381),qe=a(380),Ve=r.a.forwardRef(function(e,t){return r.a.createElement(i.b,Object.assign({innerRef:t},e))}),Xe=Object(ze.a)(function(){return{basketLink:{"&:hover":{color:"inherit"}}}});var Ye=Object(l.b)(function(e){return{counts:ae(e)}})(function(e){var t=e.counts,a=Object(v.b)().t,n=Xe(),c=t?a("cart.show_products",{counts:t}):a("cart.cart_empty_short"),o=!t;return r.a.createElement(qe.a,{className:n.basketLink,"aria-label":c,color:"inherit",to:"/cart/",component:Ve},r.a.createElement(We.a,{badgeContent:t,invisible:o,color:"secondary"},r.a.createElement(Be.a,null)))}),$e=a(179),Ge=a.n($e);var Je=function(){return r.a.createElement(qe.a,{color:"inherit"},r.a.createElement(Ge.a,null))},Qe=a(9),Ke=a(402),Ze=a(180),et=a.n(Ze),tt=Object(Ue.a)(function(e){return{search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Qe.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Qe.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"}}}),at={"aria-label":"search"};var nt=function(e){var t=tt(),a=Object(v.b)().t,c=e.submit,o=Object(n.useState)(""),i=Object(ie.a)(o,2),l=i[0],u=i[1];return r.a.createElement("form",{className:t.search,onSubmit:function(e){e.preventDefault(),c(l)}},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(et.a,null)),r.a.createElement(Ke.a,{placeholder:a("common.search_product"),classes:{root:t.inputRoot,input:t.inputInput},inputProps:at,type:"search",onChange:function(e){var t=e.target.value;""===t&&c(""),u(t)},value:l}))},rt=a(350),ct=a(401),ot=a(382),it=function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(Re.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(c)))).state={isOpen:!1},a.refContainer=r.a.createRef(),a.handleClick=function(){a.setState({isOpen:!0})},a.handleClose=function(){a.setState({isOpen:!1})},a.changeLanguageHandler=function(e){return function(){var t=a.props.i18n;a.setState({isOpen:!1}),t.language!==e&&t.changeLanguage(e)}},a}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"renderMenuItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.props.classes;return t.map(function(t){return r.a.createElement(ot.a,{key:t,className:a.menuItem,onClick:e.changeLanguageHandler(t),dense:!0},t)})}},{key:"render",value:function(){var e=this.props,t=e.i18n,a=e.classes,n=this.state.isOpen;return r.a.createElement("div",{ref:this.refContainer},r.a.createElement(qe.a,{className:a.button,onClick:this.handleClick},t.language),this.refContainer.current&&n&&r.a.createElement(ct.a,{keepMounted:!0,open:n,anchorEl:this.refContainer.current,onClose:this.handleClose},this.renderMenuItems(O)))}}]),t}(n.Component);it.defaultProps={classes:{}};var lt=Object(v.c)()(Object(rt.a)(function(e){return{menuItem:{textTransform:"uppercase",fontSize:e.typography.fontSize},button:{color:e.palette.common.white,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.fontSize,cursor:"pointer",textTransform:"uppercase"}}})(it)),ut=Object(Ue.a)(function(e){return{aside:{display:"flex",alignItems:"center",marginLeft:"auto"},logoLink:{color:"#fff","&:hover":{color:"#fff",textDecoration:"none"}}}});var st=Object(l.b)(null,{submitSearchForm:function(e){return{type:de,payload:{value:e}}}})(function(e){var t=ut();return r.a.createElement(Ae.a,{position:"sticky"},r.a.createElement("div",{className:"container"},r.a.createElement(Me.a,{variant:"dense"},r.a.createElement(He.a,{className:t.logoLink,variant:"h5",color:"inherit",component:Ve,to:"/"},"SHOP"),r.a.createElement("div",{className:t.aside},r.a.createElement(nt,{submit:e.submitSearchForm}),r.a.createElement(Ye,null),r.a.createElement(Je,null),r.a.createElement(lt,null)))))}),dt=a(59),pt=a(109),mt=a(390),ft=Object(x.a)(function(e){return e.filters.sortProperty},function(e){return e.filters.search},function(e){return e.filters.activeCategoryId},je,Ce,V,function(e,t,a,n,r,c){var o;switch(e){case ue:o=c.sort(function(e,t){return e.price-t.price});break;case"price_desc":o=c.sort(function(e,t){return t.price-e.price});break;default:o=c}return(o=o.filter(function(e){var c=e.price,o=e.name;return(!a||e.categoryId===a)&&((!n&&!r||!(c<n||r&&c>r))&&!(o.toLowerCase&&!e.name.toLowerCase().includes(t.toLowerCase())))})).valueSeq().toArray()}),ht=Object(x.a)(W,ne,function(e,t){return t.reduce?t.reduce(function(t,a){if(e.has(a)){var n=e.get(a);return t+parseInt(n.price,10)}return t},0):0});var bt=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("main",{className:"main"},e.children))},gt=a(403),vt=a(163),Et=a(386),Ot=a(389),yt=a(388),jt=a(387),Ct=a(181),kt=a.n(Ct),St=Object(Ue.a)(function(e){return{name:{color:e.palette.common.black,"&:hover":{color:e.palette.common.black,textDecoration:"none"}}}});var wt=Object(l.b)(null,{addToCart:oe})(function(e){var t=Object(v.b)().t,a=Object(m.useSnackbar)().enqueueSnackbar,c=e.product,o=e.addToCart,i={item:{id:c.id,name:c.name,type:D},collect:function(e){return{isDragging:e.isDragging()}}},l=St(),u=Object(gt.a)(i),s=Object(ie.a)(u,3),d=s[0].isDragging,p=s[1],f=s[2],h=c.image,b=c.name,g=c.text,E=c.id,O=kt()(g,{length:60,omission:"..."}),y=d?.8:1;return Object(n.useEffect)(function(){f(Object(vt.a)(),{captureDraggingState:!0})},[f]),r.a.createElement(Et.a,{style:{opacity:y}},r.a.createElement("div",{ref:p},r.a.createElement(jt.a,{image:h,title:"Contemplative Reptile"}),r.a.createElement(yt.a,null,r.a.createElement(He.a,{className:l.name,gutterBottom:!0,variant:"h5",component:Ve,to:"/product/".concat(E,"/")},b),r.a.createElement(He.a,{gutterBottom:!0,variant:"h4"},c.price," $"),r.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"p"},O))),r.a.createElement(Ot.a,null,r.a.createElement(mt.a,{variant:"contained",size:"small",color:"primary",onClick:function(){o(E),a&&a(r.a.createElement("span",null,t("product.product_added",{product:c.name})),{variant:"success"})}},t("buttons.buy")),r.a.createElement(mt.a,{size:"small",color:"primary",component:Ve,to:"/product/".concat(E,"/")},t("buttons.more_info"))))});var _t=function(e){var t=Object(v.b)().t,a=e.products,n=a.map(function(e){return r.a.createElement("div",{key:e.id,className:"col-md-4"},r.a.createElement(wt,{product:e}))}),c=!a.length&&r.a.createElement("div",{className:"col-12"},r.a.createElement(He.a,{paragraph:!0,variant:"h4",component:"h2"},t("product.not_found")));return r.a.createElement("div",{className:"row"},c,n)},It=a(391);var xt=function(){return r.a.createElement("div",null,r.a.createElement(It.a,null))},Nt=a(404),Pt=a(164),Rt=a(127);function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach(function(t){Object(C.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Lt=Object(l.b)(null,{addToCart:oe})(Object(Pt.a)(function(e){var t=Object(m.useSnackbar)().enqueueSnackbar,a=Object(v.b)().t,n=e.theme,c=e.addToCart,o={accept:D,drop:function(e){var n=e.id,r=e.name;n&&(c(n),t(a("product.product_added",{product:r}),{variant:"success"}))},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}},i=Object(Nt.a)(o),l=Object(ie.a)(i,2),u=l[0],s=u.canDrop,d=u.isOver,p=l[1],f=s&&d,h=n.palette.primary.light,b=n.palette.grey[400];f?(h=n.palette.secondary.light,b=n.palette.common.white):s&&(h=n.palette.primary.dark);var g={root:{padding:"".concat(n.spacing(4),"px ").concat(n.spacing(3),"px"),textAlign:"center",color:n.palette.common.white,borderWidth:"3px",borderStyle:"dashed",borderColor:b,backgroundColor:h}};return r.a.createElement(Rt.a,{ref:p,style:Dt({},g.root)},a("common.drop_product"))})),Ut=a(6),At=a(383),Mt=a(353),Ht=a(392),zt=function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Re.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(e){return function(){var t=a.props,n=t.activeId,r=t.setCurrentCategory;n!==e&&r(e)}},a}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"render",value:function(){var e=this.elements;return r.a.createElement(Rt.a,null,r.a.createElement(At.a,{component:"nav"},e))}},{key:"elements",get:function(){var e=this,t=this.props,a=t.categories,c=t.activeId,o=t.t;return a.length?r.a.createElement(n.Fragment,null,r.a.createElement(Mt.a,{selected:!c,button:!0,divider:!0,onClick:this.clickHandler("")},r.a.createElement(Ht.a,{primary:o("common.all")})),a.map(function(t,n){var o=t.name,i=t.id;return r.a.createElement(Mt.a,{key:i,selected:c===i,button:!0,divider:n+1!==a.length,onClick:e.clickHandler(i)},r.a.createElement(Ht.a,{primary:o}))})):null}}]),t}(n.Component),Ft=Object(v.c)()(Object(l.b)(function(e){return{activeId:e.filters.activeCategoryId}},{setCurrentCategory:function(e){return{type:be,payload:{id:e}}}})(zt)),Bt=a(406);function Wt(e){var t=e.step,a=e.min,c=e.max,o=e.defaultValues,i=e.afterChange,l=Object(ie.a)(o,2),u=l[0],s=l[1],d=!u&&!s||u===a&&s===c?[a,c]:o,p=Object(n.useState)(d),m=Object(ie.a)(p,2),f=m[0],h=m[1];return r.a.createElement("div",null,r.a.createElement(Bt.a,{step:t,value:f,min:a,max:c,onChange:function(e,t){h(t)},onChangeCommitted:i,valueLabelDisplay:"auto","aria-labelledby":"range-slider"}))}Wt.defaultProps={step:10,defaultValues:[]};var qt=Wt,Vt=function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Re.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(r)))).priceAfterChangeHandler=function(e,t){a.props.setPrices(t)},a}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadFilters,a=e.loading,n=e.loaded;a||n||t()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.loaded,n=e.categories,c=e.classes,o=e.t,i=e.min,l=e.max,u=e.prices;return t?r.a.createElement(xt,null):a?r.a.createElement("div",null,n.length&&r.a.createElement(Ft,{categories:n}),r.a.createElement(Rt.a,{className:c.paper},r.a.createElement(He.a,{className:c.subtitle,gutterBottom:!0,variant:"subtitle2"},o("filters.price")),r.a.createElement(qt,{afterChange:this.priceAfterChangeHandler,min:i,max:l,step:50,defaultValues:u}))):null}}]),t}(n.Component),Xt=Object(l.b)(function(e){return{prices:Se(e),min:ye(e).get("priceMin"),max:ye(e).get("priceMax"),loading:e.filters.loading,loaded:e.filters.loaded,categories:ke(e)}},{loadFilters:function(){return function(){var e=Object(_.a)(w.a.mark(function e(t){var a,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:me}),e.prev=1,a="".concat(E,"/filters/"),e.next=5,P.get(a);case 5:n=e.sent,r=n.data,t({type:fe,payload:{categories:r.categories,price:r.price}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:he});case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},setPrices:function(e){var t=Object(ie.a)(e,2),a=t[0],n=t[1];return{type:ge,payload:{start:a,end:n}}}})(Object(Ut.a)(function(e){return{paper:{padding:e.spacing(2)},subtitle:{fontSize:e.typography.htmlFontSize}}})(Object(v.c)()(Vt)));var Yt=function(){return r.a.createElement("div",null,r.a.createElement(Lt,null),r.a.createElement(Xt,null))},$t=a(183),Gt=a.n($t),Jt=function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(Re.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(c)))).state={isOpen:!1},a.refContainer=r.a.createRef(),a.handleClick=function(){a.setState({isOpen:!0})},a.handleClose=function(){a.setState({isOpen:!1})},a.changeSortPropHandler=function(e){return function(){a.props.onChange(e),a.setState({isOpen:!1})}},a}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"renderMenuItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.props.classes;return t.map(function(t){var n=t.key,c=t.label;return r.a.createElement(ot.a,{key:n,className:a.menuItem,onClick:e.changeSortPropHandler(n),dense:!0},c)})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.items,n=e.label,c=this.state.isOpen;return r.a.createElement("div",{ref:this.refContainer},r.a.createElement(mt.a,{className:t.button,onClick:this.handleClick},n,r.a.createElement(Gt.a,null)),this.refContainer.current&&c&&r.a.createElement(ct.a,{keepMounted:!0,open:c,anchorEl:this.refContainer.current,onClose:this.handleClose},this.renderMenuItems(a)))}}]),t}(n.Component),Qt=Object(rt.a)(function(e){return{menuItem:{fontSize:e.typography.fontSize},button:{fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.fontSize,cursor:"pointer",textTransform:"unset"}}})(Jt),Kt=Object(ze.a)(function(){return{container:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"}}});var Zt=Object(l.b)(function(e){return{sortProperty:e.filters.sortProperty}},{changeSortProperty:function(e){return{type:pe,payload:{value:e}}}})(function(e){var t=Kt(),a=Object(v.b)().t,n=e.sortProperty,c=e.changeSortProperty,o="".concat(a("filters.sort_by")," ").concat(a("filters."+n)),i=se.map(function(e){return{key:e,label:a("filters.".concat(e))}});return r.a.createElement("div",{className:t.container},r.a.createElement(Qt,{onChange:function(e){c(e)},label:o,items:i}))}),ea=function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Re.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(r)))).loadMoreHandler=function(){var e=a.props,t=e.loadProducts,n=e.loading,r=e.fullLoaded,c=e.productLength;r||n||t(c)},a}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadProducts,a=e.loading;e.loaded||a||t()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.loaded;return r.a.createElement(bt,null,r.a.createElement("div",{className:"container"},t&&!a?r.a.createElement(xt,null):this.body))}},{key:"body",get:function(){var e=this.props,t=e.products,a=e.loading,n=e.fullLoaded,c=e.t;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(Zt,null),r.a.createElement(_t,{products:t}),!n&&r.a.createElement(mt.a,{onClick:this.loadMoreHandler,disabled:a,variant:"contained",color:"primary"},c("buttons.load_more"))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(Yt,null)))}}]),t}(n.Component),ta=Object(v.c)()(Object(l.b)(function(e){return{loaded:e.products.loaded,fullLoaded:e.products.fullLoaded,loading:e.products.loading,products:ft(e),productLength:q(e)}},{loadProducts:function(e){return function(){var t=Object(_.a)(w.a.mark(function t(a){var n,r,c;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:L}),t.prev=1,n="".concat(E,"/products/").concat(e?"?offset="+e:""),t.next=5,P.get(n);case 5:r=t.sent,c=r.data,a({type:U,payload:{entities:c.products,isLast:c.isLast}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:A});case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()}})(ea));var aa=function(){return r.a.createElement("div",null,"404")},na=a(393),ra=a(394),ca=a(396),oa=a(395),ia=function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Re.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(r)))).priceStyles={margin:0},a.buyBtnClickHandler=function(){var e=a.props,t=e.product.name,n=e.t,r=e.addToCart,c=e.productId,o=e.enqueueSnackbar;r(c),o&&o(n("product.product_added",{product:t}),{variant:"success"})},a}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.productId,a=e.product,n=e.loading,r=e.loadProductById;!t||a||n||r(t)}},{key:"render",value:function(){var e=this.props,t=e.productId,a=e.loading;return void 0===t?r.a.createElement(dt.a,{to:"/"}):r.a.createElement(bt,null,r.a.createElement("div",{className:"container"},a?r.a.createElement(xt,null):this.body))}},{key:"body",get:function(){var e=this.props,t=e.product,a=e.t;if(!t)return null;var n=t.name,c=t.image,o=t.text,i=t.price,l=t.color,u=t.material,s=t.company,d="".concat(parseInt(i)," $");return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:c,alt:""})),r.a.createElement("div",{className:"col-md-7 offset-1"},r.a.createElement("h1",null,n),r.a.createElement("p",null,o),r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("h2",{style:this.priceStyles},d)),r.a.createElement("div",{className:"col-auto"},r.a.createElement(mt.a,{onClick:this.buyBtnClickHandler,variant:"contained",size:"large",color:"primary"},a("buttons.buy_item")))),r.a.createElement(na.a,null,r.a.createElement(ra.a,null,r.a.createElement(oa.a,null,r.a.createElement(ca.a,null,a("product.company")),r.a.createElement(ca.a,null,s)),r.a.createElement(oa.a,null,r.a.createElement(ca.a,null,a("product.color")),r.a.createElement(ca.a,null,l)),r.a.createElement(oa.a,null,r.a.createElement(ca.a,null,a("product.material")),r.a.createElement(ca.a,null,u))))))}}]),t}(n.Component),la=Object(v.c)()(Object(l.b)(function(e,t){return{product:X(e,t.match.params.id),loading:e.products.loading,productId:t.match.params.id}},{loadProductById:function(e){return function(){var t=Object(_.a)(w.a.mark(function t(a){var n,r,c;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return a({type:M}),t.prev=3,n="".concat(E,"/products/").concat(e),t.next=7,P.get(n);case 7:r=t.sent,c=r.data,a({type:H,payload:{product:c.product}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),a({type:z});case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(e){return t.apply(this,arguments)}}()},addToCart:oe})(Object(m.withSnackbar)(ia))),ua=a(397),sa=a(186),da=a.n(sa),pa=a(185),ma=a.n(pa),fa=a(184),ha=a.n(fa),ba=Object(Ue.a)(function(e){return{count:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},root:{display:"inline-flex",alignItems:"center",maxWidth:"100%"}}});function ga(e){var t=ba(),a=e.increment,n=e.decrement,c=e.count;return r.a.createElement("div",{className:t.root},r.a.createElement(qe.a,{onClick:n},r.a.createElement(ha.a,null)),r.a.createElement(He.a,{className:t.count,variant:"h6"},c),r.a.createElement(qe.a,{onClick:a},r.a.createElement(ma.a,null)))}ga.defaultProps={count:0};var va=ga,Ea=Object(Ut.a)(function(e){return{head:{backgroundColor:e.palette.primary.light,color:e.palette.common.white,paddingRight:e.spacing(2)},body:{fontSize:14,paddingRight:e.spacing(2)}}})(ca.a);var Oa=function(e){var t=e.children,a=Object(pt.a)(e,["children"]);return r.a.createElement(Ea,a,t)},ya=function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Re.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(r)))).deleteHandlerClick=function(){var e=a.props;(0,e.deleteProduct)(e.id)},a.incrementHandlerClick=function(){var e=a.props;(0,e.incrementProduct)(e.id)},a.decrementHandlerClick=function(){var e=a.props;(0,e.decrementProduct)(e.id)},a}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.id,n=e.count,c=e.classes,o=t.name,l=t.image,u=t.price,s=parseInt(u,10)*n;return r.a.createElement(oa.a,{key:a},r.a.createElement(Oa,{scope:"row",className:c.imageCell},r.a.createElement(i.b,{to:"/product/".concat(a)},r.a.createElement("img",{className:c.image,src:l,alt:""}))),r.a.createElement(Oa,null,r.a.createElement(He.a,{className:c.link,variant:"h5",component:Ve,to:"/product/".concat(a)},o)),r.a.createElement(Oa,{align:"right"},r.a.createElement(He.a,{variant:"h6"},r.a.createElement(va,{increment:this.incrementHandlerClick,decrement:this.decrementHandlerClick,count:n}))),r.a.createElement(Oa,{align:"right"},r.a.createElement(He.a,{variant:"h5"},s," $")),r.a.createElement(Oa,{align:"center"},r.a.createElement(qe.a,{color:"inherit",onClick:this.deleteHandlerClick},r.a.createElement(da.a,null))))}}]),t}(n.Component),ja=Object(l.b)(function(e,t){return{product:X(e,t.id),count:ce(e,t)}},{deleteProduct:function(e){return{type:Z,payload:{id:e}}},incrementProduct:function(e){return{type:Q,payload:{id:e}}},decrementProduct:function(e){return{type:K,payload:{id:e}}}})(Object(Ut.a)(function(e){return{imageCell:{width:e.spacing(21)},image:{maxWidth:"100%"},link:{color:e.palette.common.black,"&:hover":{color:e.palette.common.black,textDecoration:"none"}}}})(ya)),Ca=Object(Ue.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700,maxWidth:"100%"}}});function ka(e){var t=e.ids,a=Ca(),n=Object(v.b)().t;if(!t.length)return null;var c=t.map(function(e){return r.a.createElement(ja,{key:e,id:e})});return r.a.createElement(Rt.a,{className:a.root},r.a.createElement(na.a,{className:a.table},r.a.createElement(ua.a,null,r.a.createElement(oa.a,null,r.a.createElement(Oa,null,n("cart.image")),r.a.createElement(Oa,{align:"left"},n("cart.name")),r.a.createElement(Oa,{align:"right"},n("cart.counts")),r.a.createElement(Oa,{align:"right"},n("cart.price")),r.a.createElement(Oa,{align:"center"},n("cart.delete")))),r.a.createElement(ra.a,null,c)))}ka.defaultProps={ids:[]};var Sa=ka,wa=Object(Ue.a)(function(e){return{root:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(4)},button:{marginLeft:e.spacing(2)}}});var _a=Object(l.b)(null,{clearCart:function(){return{type:ee}}})(function(e){var t=Object(v.b)().t,a=wa(),n=Object(m.useSnackbar)().enqueueSnackbar,c=e.clearCart;return r.a.createElement("div",{className:a.root},r.a.createElement(mt.a,{className:a.button,size:"medium",variant:"outlined",color:"primary",onClick:function(){c(),n(t("cart.cart_cleaned"),{variant:"success"})}},t("buttons.clear_cart")),r.a.createElement(mt.a,{className:a.button,size:"medium",variant:"contained",color:"secondary"},t("buttons.checkout")))});var Ia=[{path:"/",exact:!0,component:ta},{path:"/product/:id",component:la},{path:"/product/",component:la},{path:"/cart/",component:Object(l.b)(function(e){var t=ne(e);return{productsIds:re(e),sum:ht(e,t)}})(function(e){var t=Object(v.b)().t,a=e.productsIds,n=e.sum,c=r.a.createElement(He.a,{paragraph:!0,variant:"h4"},r.a.createElement("span",null,t("cart.cart_empty")),r.a.createElement(mt.a,{variant:"contained",color:"secondary",component:Ve,to:"/"},t("buttons.catalog"))),o=r.a.createElement(He.a,{paragraph:!0,variant:"h5",align:"right"},t("cart.total_sum")," ",n," $"),i=a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Sa,{ids:a}),o,r.a.createElement(_a,null)):c;return r.a.createElement(bt,null,r.a.createElement("div",{className:"container"},i))})},{path:"/404",component:aa},{path:"*",component:aa}];var xa=function(){return r.a.createElement(dt.d,null,Ia.map(function(e){return function(e){var t=e.path,a=e.routes,n=e.component,c=Object(pt.a)(e,["path","routes","component"]);return r.a.createElement(dt.b,Object.assign({key:t,path:t},c,{render:function(e){return r.a.createElement(n,Object.assign({},e,{routes:a}))}}))}(e)}))};var Na=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container"},"footer"))},Pa=a(405);var Ra=Object(l.b)(function(e,t){return{product:X(e,t.id)}})(function(e){var t=e.product.name;return r.a.createElement("h2",null,t)}),Ta={position:"fixed",top:0,bottom:0,left:0,right:0,pointerEvents:"none"};var Da=function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Re.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(r)))).lastUpdate=Date.now(),a.timer=null,a}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"shouldComponentUpdate",value:function(){var e=this;clearTimeout(this.timer);var t=Date.now();return t-this.lastUpdate>16?(this.lastUpdate=t,!0):(this.timer=setTimeout(function(){e.forceUpdate()},50),!1)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.isDragging,a=e.item,n=e.offset,c=e.clientOffset;if(!t||!a||!n)return null;var o=n.x,i=n.y,l=c.x-o,u=c.y-i,s="translate(".concat(o+l,"px, ").concat(i+u,"px)"),d=function(e){switch(e.type){case D:return r.a.createElement(Ra,e);default:return null}}(a);return d?r.a.createElement("div",{style:Ta},r.a.createElement("div",{style:{willChange:"transform",transform:s}},d)):null}}]),t}(n.Component),La=Object(Pa.a)(function(e){return{clientOffset:e.getClientOffset(),offset:e.getSourceClientOffset(),isDragging:e.isDragging(),item:e.getItem()}})(Da),Ua=function(e){function t(){return Object(Ne.a)(this,t),Object(Re.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(De.a)(t,e),Object(Pe.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(Le.a,null),r.a.createElement(st,null),r.a.createElement(xa,null),r.a.createElement(Na,null),r.a.createElement(La,null))}}]),t}(n.Component),Aa=Object(u.a)(),Ma="/".concat("shop");var Ha=function(){return r.a.createElement(s.a,{theme:Aa},r.a.createElement(l.a,{store:xe},r.a.createElement(d.a,{backend:p.a},r.a.createElement(m.SnackbarProvider,{maxSnack:5,autoHideDuration:3e3,hideIconVariant:!0,disableWindowBlurListener:!0},r.a.createElement(i.a,{basename:Ma},r.a.createElement(n.Suspense,{fallback:r.a.createElement(xt,null)},r.a.createElement(Ua,null)))))))};o.a.render(r.a.createElement(Ha,null),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.93f7e59e.chunk.js.map