{"version":3,"sources":["config.js","libs/i18next.js","libs/axios.js","libs/utils.js","ducks/products.js","ducks/cart.js","ducks/filters.js","redux/reducer.js","redux/store.js","components/common/adapter-link.js","components/cart/basket-icon.js","components/auth/account-icon.js","components/common/search.js","components/common/language-changer.js","layouts/Header.js","redux/common-selectors.js","layouts/Page.js","components/product/product-card.js","components/product/product-list.js","components/common/loader.js","components/cart/cart-drop-target.js","components/filters/category-list.js","components/common/range-slider.js","components/filters/filters-container.js","layouts/Sidebar.js","components/common/sort-dropdown.js","components/product/sort-container.js","pages/HomePage.js","pages/NotFound.js","pages/ProductPage.js","components/common/counter.js","components/cart/cart-cell.js","components/cart/cart-row.js","components/cart/cart-table.js","components/cart/cart-nav.js","pages/CartPage.js","routes.js","layouts/Main.js","layouts/Footer.js","components/product/product-drag-preview.js","components/common/drag-layer.js","App.js","Root.js","index.js"],"names":["apiUrl","languages","i18next","use","Backend","LanguageDetector","initReactI18next","init","lowerCaseLng","whitelist","preload","fallbackLng","returnNull","debug","process","backend","loadPath","detection","order","react","wait","instance","axios","create","mode","headers","Access-Control-Allow-Origin","credentials","withCredentials","crossDomain","mapToOrderedMap","arr","Model","arguments","length","undefined","Map","reduce","map","cur","set","id","OrderedMap","prefix","concat","PRODUCT","PRODUCTS_REQUEST","PRODUCTS_SUCCESS","PRODUCTS_FAILURE","PRODUCT_BY_ID_REQUEST","PRODUCT_BY_ID_SUCCESS","PRODUCT_BY_ID_FAILURE","ProductModel","Record","name","image","text","color","price","material","categoryId","company","ReducerRecord","entities","loading","loaded","error","productsGetter","state","productLengthGetter","size","productsSelector","createSelector","items","productByIdSelector","_","has","get","ADD_TO_CART","PRODUCT_INCREMENT","PRODUCT_DECREMENT","PRODUCT_DELETE","CLEAR_CART","ids","List","sizeGetter","idsArraySelector","toArray","uniqIdsSelector","uniq","sort","a","b","localeCompare","countByIdSelector","ownProps","filter","cartId","addToCart","type","payload","PRICE_ASC","sortProperties","SUBMIT_SEARCH_FORM","CHANGE_SORT_PROPERTY","FILTERS_START","FILTERS_SUCCESS","FILTERS_FAILURE","SET_CURRENT_CATEGORY","SET_PRICES","CategoryModel","categories","activeCategoryId","sortProperty","search","priceStart","priceEnd","defaults","priceMin","priceMax","defaultsGetter","priceStartGetter","priceEndGetter","categoriesSelector","valueSeq","pricesSelector","start","end","combineReducers","_combineReducers","Object","defineProperty","action","product","isUndefined","setIn","isLast","mergeIn","updateIn","deleteIn","indexOf","value","update","cats","merge","min","max","middlewares","thunk","enhancer","applyMiddleware","apply","store","createStore","reducer","composeWithDevTools","React","forwardRef","props","ref","react_default","createElement","react_router_dom","assign","innerRef","useStyles","makeStyles","basketLink","&:hover","connect","counts","t","useTranslation","classes","label","cartIsEmpty","IconButton","className","aria-label","to","component","AdapterLink","Badge","badgeContent","invisible","ShoppingBasket_default","AccountIcon","AccountCircle_default","theme","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginRight","spacing","marginLeft","width","searchIcon","height","pointerEvents","display","alignItems","justifyContent","inputRoot","inputInput","padding","transition","transitions","inputProps","Search","submit","_useState","useState","_useState2","slicedToArray","inputValue","setValue","onSubmit","e","preventDefault","Search_default","InputBase","placeholder","root","input","onChange","target","LanguageChanger","isOpen","refContainer","createRef","handleClick","_this","setState","handleClose","changeLanguageHandler","lang","i18n","language","changeLanguage","_this2","this","item","MenuItem","key","menuItem","onClick","dense","_this$props","button","current","Menu","keepMounted","open","anchorEl","onClose","renderMenuItems","Component","defaultProps","withTranslation","withStyles","textTransform","fontSize","typography","fontWeight","fontWeightMedium","cursor","aside","logoLink","textDecoration","submitSearchForm","AppBar","Toolbar","variant","Typography","common_search","basket_icon","account_icon","language_changer","productsFilteredSelector","sortProp","products","result","toLowerCase","includes","sumProductsSelector","acc","parseInt","Page","children","black","enqueueSnackbar","useSnackbar","spec","collect","monitor","isDragging","_useDrag","useDrag","_useDrag2","drag","preview","truncatedText","truncate","omission","opacity","useEffect","getEmptyImage","captureDraggingState","Card","style","CardMedia","title","CardContent","gutterBottom","CardActions","Button","ProductList","productsElements","product_card","FallbackComponent","paragraph","Loader","CircularProgress","withTheme","accept","drop","_ref","isOver","canDrop","_useDrop","useDrop","_useDrop2","_useDrop2$","isActive","primary","light","borderColor","grey","secondary","dark","styles","textAlign","borderWidth","borderStyle","Paper","objectSpread2","CategoryList","clickHandler","activeId","setCurrentCategory","categoryElements","elements","_this$props2","ListItem","selected","divider","ListItemText","index","RangeSlider","step","defaultValues","afterChange","_defaultValues","values","setValues","Slider","onChangeCommitted","valueLabelDisplay","aria-labelledby","FiltersContainer","priceAfterChangeHandler","setPrices","loadFilters","prices","loader","category_list","paper","subtitle","range_slider","asyncToGenerator","regenerator_default","mark","_callee","dispatch","url","_yield$axios$get","data","wrap","_context","prev","next","sent","abrupt","t0","stop","_x","_ref2","_ref3","htmlFontSize","Sidebar","cart_drop_target","filters_container","SortDropdown","changeSortPropHandler","prop","ArrowDropDown_default","container","marginBottom","changeSortProperty","normalizedSortPropeties","sort_dropdown","HomePage","loadMoreHandler","loadProducts","productLength","_this$props3","layouts_Page","body","_this$props4","sort_container","product_list","disabled","layouts_Sidebar","offset","NotFound","ProductPage","priceStyles","margin","buyBtnClickHandler","productId","loadProductById","react_router","normalizedPrice","src","alt","Table","TableBody","TableRow","TableCell","match","params","_callee2","_yield$axios$get2","_context2","_x2","withSnackbar","count","maxWidth","Counter","increment","decrement","Remove_default","Add_default","StyledTableCell","head","paddingRight","CartCell","rest","objectWithoutProperties","CartRow","deleteHandlerClick","deleteProduct","incrementHandlerClick","incrementProduct","decrementHandlerClick","decrementProduct","sum","cart_cell","scope","imageCell","link","align","counter","DeleteOutline_default","marginTop","overflowX","table","minWidth","CartTable","cart_row","TableHead","clearCart","routes","path","exact","productsIds","fallback","sumText","Fragment","cart_table","cart_nav","Main","route","render","renderRoutes","Footer","layerStyles","top","bottom","left","right","CustomDragLayer","lastUpdate","Date","now","timer","clearTimeout","setTimeout","forceUpdate","clientOffset","x","y","shiftX","shiftY","transform","product_drag_preview","getCurrentPreview","willChange","DragLayer","getClientOffset","getSourceClientOffset","getItem","App","CssBaseline","layouts_Header","layouts_Main","layouts_Footer","drag_layer","defaultTheme","createMuiTheme","basename","Root","ThemeProvider","es","DndProvider","HTML5Backend","build","maxSnack","autoHideDuration","hideIconVariant","disableWindowBlurListener","src_App","ReactDOM","src_Root","document","getElementById"],"mappings":"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","file":"static/js/main.63a88b07.chunk.js","sourcesContent":["export const isDevelopment = process.env.NODE_ENV === 'development';\nexport const apiUrl = isDevelopment ? 'http://localhost:3001/api' : 'https://shop-mocky.herokuapp.com/api';\nexport const appName = 'shop';","import i18next from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport { isDevelopment } from '../config';\n\nexport const languages = ['en', 'ru'];\n\ni18next\n  .use(Backend)\n  .use(LanguageDetector)\n\t.use(initReactI18next)\n\t.init({\n\t\tlowerCaseLng: true,\n\t\twhitelist: languages,\n\t\tpreload: ['en'],\n\t\tfallbackLng: 'en',\n\t\treturnNull: !isDevelopment,\n\t\tdebug: isDevelopment,\n\t\tbackend: {\n\t\t\tloadPath: './locales/{{lng}}.json'\n\t\t},\n\t\tdetection: {\n\t\t\torder: ['localStorage', 'navigator']\n\t\t},\n\t\treact: {\n\t\t\twait: true\n\t\t}\n\t});\n\n\texport default i18next;","import axios from 'axios';\n\nconst instance = axios.create({\n\tmode: 'no-cors',\n\theaders: {\n\t\t'Access-Control-Allow-Origin': '*'\n\t},\n\tcredentials: 'same-origin',\n\twithCredentials: true,\n\tcrossDomain: true\n});\n\nexport default instance;","import { OrderedMap, Map } from \"immutable\";\n\nexport function objectToOrderMap(obj, Model = new Map()) {\n\treturn Object.keys(obj).reduce((map, cur) => {\n\t\treturn map.set(cur, Model(obj[cur]));\n\t}, new OrderedMap());\n}\n\nexport function mapToOrderedMap(arr, Model = new Map()) {\n\treturn arr.reduce((map, cur) => {\n\t\treturn map.set(cur.id, Model(cur));\n\t}, new OrderedMap());\n}\n\nexport function immutableMapToArr(Model) {\n\treturn Model.valueSeq().toArray();\n}","import { OrderedMap, Record } from 'immutable';\nimport { createSelector } from 'reselect';\nimport isUndefined from \"lodash/isUndefined\";\nimport axios from '../libs/axios';\nimport { appName, apiUrl } from '../config';\nimport { mapToOrderedMap } from '../libs/utils';\n\n\n/**\n *  Constants\n */\nexport const moduleName = 'products';\nconst prefix = `${appName}/${moduleName}`;\n\nexport const PRODUCT = `${prefix}/PRODUCT`;\nconst PRODUCTS_REQUEST = `${prefix}/PRODUCTS_REQUEST`;\nconst PRODUCTS_SUCCESS = `${prefix}/PRODUCTS_SUCCESS`;\nconst PRODUCTS_FAILURE = `${prefix}/PRODUCTS_FAILURE`;\n\nconst PRODUCT_BY_ID_REQUEST = `${prefix}/PRODUCT_BY_ID_REQUEST`;\nconst PRODUCT_BY_ID_SUCCESS = `${prefix}/PRODUCT_BY_ID_SUCCESS`;\nconst PRODUCT_BY_ID_FAILURE = `${prefix}/PRODUCT_BY_ID_FAILURE`;\n\n\n/**\n *  Models\n */\nexport const ProductModel = Record({\n\tid: '',\n\tname: '',\n\timage: '',\n\ttext: '',\n\tcolor: '',\n\tprice: 0,\n\tmaterial: '',\n\tcategoryId: '',\n\tcompany: ''\n}, 'ProductModel');\n\nconst ReducerRecord = Record({\n\tentities: new OrderedMap(),\n\tloading: false,\n\tloaded: true,\n\terror: false\n}, 'ProductsReducerRecord');\n\n\n/**\n *  Reducer\n */\nexport default function reducer(state = new ReducerRecord(), action) {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase PRODUCTS_REQUEST:\n\t\tcase PRODUCT_BY_ID_REQUEST: {\n\t\t\treturn state.set('loading', true);\n\t\t}\n\n\t\tcase PRODUCT_BY_ID_SUCCESS: {\n\t\t\tconst { product } = payload;\n\n\t\t\tif (product && !isUndefined(product.id)) {\n\t\t\t\treturn state\n\t\t\t\t\t.set('loading', false)\n\t\t\t\t\t.setIn(['entities', product.id], new ProductModel(product));\n\t\t\t} else {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t}\n\n\t\tcase PRODUCTS_SUCCESS: {\n\t\t\tconst { isLast, entities } = payload;\n\n\t\t\treturn state\n\t\t\t\t.set('loading', false)\n\t\t\t\t.set('loaded', !!isLast)\n\t\t\t\t.set('error', false)\n\t\t\t\t.mergeIn(['entities'], mapToOrderedMap(entities, ProductModel));\n\t\t}\n\n\t\tcase PRODUCT_BY_ID_FAILURE:\n\t\tcase PRODUCTS_FAILURE: {\n\t\t\treturn state\n\t\t\t\t.set('loading', false)\n\t\t\t\t.set('error', true);\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\n\n/**\n *  Selectors\n */\nexport const productsGetter = state => state[moduleName].entities;\nexport const productLengthGetter = state => state[moduleName].entities.size;\nconst productIdGetter = (_, id) => id;\n\nexport const productsSelector = createSelector(productsGetter, (items) => items);\n\nexport const productByIdSelector = createSelector(productsGetter, productIdGetter, (items, id) => {\n\tif (id && items.has(id)) return items.get(id);\n});\n\n\n/**\n *  Actions\n */\nexport function loadProducts(offset) {\n\treturn async dispatch => {\n\t\tdispatch({\n\t\t\ttype: PRODUCTS_REQUEST\n\t\t});\n\n\t\ttry {\n\t\t\tconst url = `${apiUrl}/products/${offset ? ('?offset=' + offset) : ''}`;\n\t\t\tconst { data } = await axios.get(url);\n\n\t\t\tif (!data) return;\n\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCTS_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tentities: data.products,\n\t\t\t\t\tisLast: data.isLast\n\t\t\t\t}\n\t\t\t});\n\n\t\t} catch (_) {\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCTS_FAILURE\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function loadProductById(id) {\n\treturn async dispatch => {\n\t\tif (!id) return;\n\n\t\tdispatch({\n\t\t\ttype: PRODUCT_BY_ID_REQUEST\n\t\t});\n\n\t\ttry {\n\t\t\tconst url = `${apiUrl}/products/${id}`;\n\t\t\tconst { data } = await axios.get(url);\n\n\t\t\tif (!data) return;\n\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCT_BY_ID_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tproduct: data.product\n\t\t\t\t}\n\t\t\t});\n\n\t\t} catch (_) {\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCT_BY_ID_FAILURE\n\t\t\t});\n\t\t}\n\t}\n}","import { List, Record } from 'immutable';\nimport { createSelector } from 'reselect';\nimport { appName } from '../config';\nimport uniq from 'lodash/uniq';\n\n\n/**\n *  Constants\n */\nexport const moduleName = 'cart';\nconst prefix = `${appName}/${moduleName}`;\n\nconst ADD_TO_CART = `${prefix}/ADD_TO_CART`;\nconst PRODUCT_INCREMENT = `${prefix}/PRODUCT_INCREMENT`;\nconst PRODUCT_DECREMENT = `${prefix}/PRODUCT_DECREMENT`;\nconst PRODUCT_DELETE = `${prefix}/PRODUCT_DELETE`;\nconst CLEAR_CART = `${prefix}/CLEAR_CART`;\n\n\n/**\n *  Models\n */\nconst ReducerRecord = Record({\n\tids: List()\n});\n\n\n/**\n *  Reducer\n */\nexport default function reducer(state = new ReducerRecord(), action) {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase PRODUCT_DELETE: {\n\t\t\treturn state.updateIn(['ids'], ids => ids.filter(id => id !== payload.id));\n\t\t}\n\n\t\tcase PRODUCT_DECREMENT: {\n\t\t\treturn state.deleteIn(['ids', state.get('ids').indexOf(payload.id)]);\n\t\t}\n\n\t\tcase PRODUCT_INCREMENT:\n\t\tcase ADD_TO_CART: {\n\t\t\treturn state.mergeIn(['ids'], payload.id);\n\t\t}\n\n\t\tcase CLEAR_CART: {\n\t\t\treturn new ReducerRecord();\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\n\n/**\n *  Selectors\n */\nexport const sizeGetter = state => state[moduleName].ids.size;\nconst idsGetter = state => state[moduleName].ids;\nconst idGetter = (_, ownProps) => ownProps.id;\n\nexport const idsArraySelector = createSelector(idsGetter, ids => ids.toArray());\n\nexport const uniqIdsSelector = createSelector(idsArraySelector, (ids) => {\n\treturn uniq(ids).sort((a, b) => a.localeCompare(b));\n});\n\nexport const countByIdSelector = createSelector(idsArraySelector, idGetter, (ids, id) => {\n\treturn ids.filter(cartId => cartId === id).length;\n});\n\n\n/**\n *  Actions\n */\nexport function addToCart(id) {\n\treturn {\n\t\ttype: ADD_TO_CART,\n\t\tpayload: { id }\n\t}\n}\n\nexport function deleteProduct(id) {\n\treturn {\n\t\ttype: PRODUCT_DELETE,\n\t\tpayload: { id }\n\t}\n}\n\nexport function clearCart() {\n\treturn {\n\t\ttype: CLEAR_CART\n\t}\n}\n\nexport function incrementProduct(id) {\n\treturn {\n\t\ttype: PRODUCT_INCREMENT,\n\t\tpayload: { id }\n\t}\n}\n\nexport function decrementProduct(id) {\n\treturn {\n\t\ttype: PRODUCT_DECREMENT,\n\t\tpayload: { id }\n\t}\n}","import { Record, OrderedMap, Map } from 'immutable';\nimport { createSelector } from 'reselect';\nimport axios from '../libs/axios';\nimport { appName, apiUrl } from '../config';\nimport { mapToOrderedMap } from '../libs/utils';\n\n\n/**\n *  Constants\n */\nexport const moduleName = 'filters';\nconst prefix = `${appName}/${moduleName}`;\n\nexport const PRICE_ASC = 'price_asc';\nexport const PRICE_DESC = 'price_desc';\nexport const sortProperties = [PRICE_ASC, PRICE_DESC];\n\nconst SUBMIT_SEARCH_FORM = `${prefix}/SUBMIT_SEARCH_FORM`;\nconst CHANGE_SORT_PROPERTY =`${prefix}/CHANGE_SORT_PROPERTY`;\n\nconst FILTERS_START = `${prefix}/FILTERS_START`;\nconst FILTERS_SUCCESS = `${prefix}/FILTERS_SUCCESS`;\nconst FILTERS_FAILURE = `${prefix}/FILTERS_FAILURE`;\n\nconst SET_CURRENT_CATEGORY = `${prefix}/SET_CURRENT_CATEGORY`;\nconst SET_PRICES = `${prefix}/SET_PRICES`;\n\n\n/**\n *  Models\n */\nexport const CategoryModel = Record({\n\tid: '',\n\tname: ''\n});\n\nconst ReducerRecord = Record({\n\tloaded: false,\n\tloading: false,\n\tcategories: new OrderedMap(),\n\tactiveCategoryId: '',\n\tsortProperty: PRICE_ASC,\n\tsearch: '',\n\tpriceStart: 0,\n\tpriceEnd: 0,\n\tdefaults: new Map({\n\t\tpriceMin: 0,\n\t\tpriceMax: 0\n\t})\n});\n\n\n/**\n *  Reducer\n */\nexport default function reducer(state = new ReducerRecord(), action) {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase SUBMIT_SEARCH_FORM: {\n\t\t\treturn state.set('search', payload.value || '');\n\t\t}\n\n\t\tcase CHANGE_SORT_PROPERTY: {\n\t\t\treturn state.set('sortProperty', payload.value || PRICE_ASC);\n\t\t}\n\n\t\tcase SET_CURRENT_CATEGORY: {\n\t\t\treturn state.set('activeCategoryId', payload.id);\n\t\t}\n\n\t\tcase SET_PRICES: {\n\t\t\tconst { start, end } = payload;\n\n\t\t\treturn state\n\t\t\t\t.set('priceStart', start)\n\t\t\t\t.set('priceEnd', end);\n\t\t}\n\n\t\tcase FILTERS_START: {\n\t\t\treturn state.set('loading', true);\n\t\t}\n\n\t\tcase FILTERS_SUCCESS: {\n\t\t\tconst { categories, price } = payload;\n\n\t\t\treturn state\n\t\t\t\t.update('categories', cats => cats.merge(mapToOrderedMap(categories, CategoryModel)))\n\t\t\t\t.setIn(['defaults', 'priceMin'], price.min)\n\t\t\t\t.setIn(['defaults', 'priceMax'], price.max)\n\t\t\t\t.set('loaded', true)\n\t\t\t\t.set('loading', false);\n\t\t}\n\n\t\tcase FILTERS_FAILURE: {\n\t\t\treturn state\n\t\t\t\t.set('loading', false)\n\t\t\t\t.set('error', true);\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\n\n/**\n *  Selectors\n */\nexport const productsSortProp = state => state[moduleName].sortProperty;\nexport const searchValueGetter = state => state[moduleName].search;\nexport const activeCategoryIdGetter = state => state[moduleName].activeCategoryId;\nconst categoriesGetter = state => state[moduleName].categories;\nexport const defaultsGetter = state => state[moduleName].defaults;\nexport const priceStartGetter = state => state[moduleName].priceStart;\nexport const priceEndGetter = state => state[moduleName].priceEnd;\n\nexport const categoriesSelector = createSelector(categoriesGetter, (categories) => {\n\treturn categories.valueSeq().toArray();\n});\n\nexport const pricesSelector = createSelector(priceStartGetter, priceEndGetter, (start, end) => [start, end]);\n\n/**\n *  Actions\n */\nexport function submitSearchForm(value) {\n\treturn {\n\t\ttype: SUBMIT_SEARCH_FORM,\n\t\tpayload: { value }\n\t}\n}\n\nexport function changeSortProperty(value) {\n\treturn {\n\t\ttype: CHANGE_SORT_PROPERTY,\n\t\tpayload: { value }\n\t}\n}\n\nexport function loadFilters() {\n\treturn async dispatch => {\n\t\tdispatch({\n\t\t\ttype: FILTERS_START\n\t\t});\n\n\t\ttry {\n\t\t\tconst url = `${apiUrl}/filters/`;\n\t\t\tconst { data } = await axios.get(url);\n\n\t\t\tif (!data) return;\n\t\t\t\n\t\t\tdispatch({\n\t\t\t\ttype: FILTERS_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tcategories: data.categories,\n\t\t\t\t\tprice: data.price\n\t\t\t\t}\n\t\t\t});\n\n\t\t} catch (_) {\n\t\t\tdispatch({\n\t\t\t\ttype: FILTERS_FAILURE\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function setCurrentCategory(id) {\n\treturn {\n\t\ttype: SET_CURRENT_CATEGORY,\n\t\tpayload: { id }\n\t}\n}\n\nexport function setPrices([ start, end ]) {\n\treturn {\n\t\ttype: SET_PRICES,\n\t\tpayload: { start, end }\n\t}\n}","import { combineReducers } from 'redux';\nimport productsReducer, { moduleName as productsModule } from '../ducks/products';\nimport cartReducer, { moduleName as cartModule } from '../ducks/cart';\nimport filtersReducer, { moduleName as filtersModule } from '../ducks/filters';\n\nexport default combineReducers({\n\t[productsModule]: productsReducer,\n\t[cartModule]: cartReducer,\n\t[filtersModule]: filtersReducer\n});","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport reducer from './reducer';\n\nconst middlewares = [thunk];\n\nif (process.env.NODE_ENV === 'development') {\n\tconst { createLogger } = require('redux-logger');\n\tconst logger = createLogger({\n\t\tcollapsed: true\n\t});\n\n\tmiddlewares.push(logger);\n}\n\nconst enhancer = applyMiddleware(...middlewares);\nconst store = createStore(reducer, {}, composeWithDevTools(\n\tenhancer\n));\n\nexport default store;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default React.forwardRef((props, ref) => <Link innerRef={ref} {...props} />);;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles'\nimport ShoppingBasket from '@material-ui/icons/ShoppingBasket';\nimport Badge from '@material-ui/core/Badge';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useTranslation } from 'react-i18next';\nimport AdapterLink from '../common/adapter-link';\nimport { sizeGetter } from '../../ducks/cart';\n\n\nconst useStyles = makeStyles(() => ({\n\tbasketLink: {\n\t\t'&:hover': {\n\t\t\tcolor: 'inherit'\n\t\t}\n\t}\n}));\n\nfunction BasketIcon(props) {\n\tconst { counts } = props;\n\tconst { t } = useTranslation();\n\tconst classes = useStyles();\n\tconst label = counts ? t('cart.show_products', { counts }) : t('cart.cart_empty_short');\n\tconst cartIsEmpty = !counts;\n\n\treturn (\n\t\t<IconButton\n\t\t\tclassName={classes.basketLink}\n\t\t\taria-label={label}\n\t\t\tcolor=\"inherit\"\n\t\t\tto=\"/cart/\"\n\t\t\tcomponent={AdapterLink}\n\t\t>\n\t\t\t<Badge badgeContent={counts} invisible={cartIsEmpty} color=\"secondary\">\n\t\t\t\t<ShoppingBasket />\n\t\t\t</Badge>\n\t\t</IconButton>\n\t);\n}\n\nBasketIcon.propTypes = {\n\tcounts: PropTypes.number\n};\n\nexport default connect(state => ({\n\tcounts: sizeGetter(state)\n}))(BasketIcon);","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\n\nfunction AccountIcon() {\n\treturn (\n\t\t<IconButton color=\"inherit\">\n\t\t\t<AccountCircle />\n\t\t</IconButton>\n\t);\n}\n\nexport default AccountIcon;\n\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, fade } from '@material-ui/core/styles';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useTranslation } from 'react-i18next';\n\n\nconst useStyles = makeStyles(theme => ({\n\tsearch: {\n\t\tposition: 'relative',\n\t\tborderRadius: theme.shape.borderRadius,\n\t\tbackgroundColor: fade(theme.palette.common.white, 0.15),\n\t\t'&:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.common.white, 0.25),\n\t\t},\n\t\tmarginRight: theme.spacing(2),\n\t\tmarginLeft: 0,\n\t\twidth: '100%'\n\t},\n\tsearchIcon: {\n\t\twidth: theme.spacing(7),\n\t\theight: '100%',\n\t\tposition: 'absolute',\n\t\tpointerEvents: 'none',\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center'\n\t},\n\tinputRoot: {\n\t\tcolor: 'inherit'\n\t},\n\tinputInput: {\n\t\tpadding: theme.spacing(1, 1, 1, 7),\n\t\ttransition: theme.transitions.create('width'),\n\t\twidth: '100%'\n\t}\n}));\n\nconst inputProps = { 'aria-label': 'search' };\n\nfunction Search(props) {\n\tconst classes = useStyles();\n\tconst { t } = useTranslation();\n\tconst { submit } = props;\n\tconst [inputValue, setValue] = useState('');\n\n\tconst setInputValue = (e) => {\n\t\tconst value = e.target.value;\n\n\t\tif (value === '') submit('');\n\n\t\tsetValue(value);\n\t};\n\n\tconst onSubmitForm = e => {\n\t\te.preventDefault();\n\t\tsubmit(inputValue);\n\t};\n\n\treturn (\n\t\t<form className={classes.search} onSubmit={onSubmitForm}>\n\t\t\t<div className={classes.searchIcon}>\n\t\t\t\t<SearchIcon />\n\t\t\t</div>\n\t\t\t<InputBase\n\t\t\t\tplaceholder={t('common.search_product')}\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t\tinput: classes.inputInput\n\t\t\t\t}}\n\t\t\t\tinputProps={inputProps}\n\t\t\t\ttype='search'\n\t\t\t\tonChange={setInputValue}\n\t\t\t\tvalue={inputValue}\n\t\t\t/>\n\t\t</form>\n\t)\n}\n\nSearch.propTypes = {\n\tsubmit: PropTypes.func.isRequired\n};\n\nexport default Search;","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withTranslation } from 'react-i18next';\nimport { languages } from '../../libs/i18next';\n\n\nconst styles = theme => ({\n\tmenuItem: {\n\t\ttextTransform: 'uppercase',\n\t\tfontSize: theme.typography.fontSize\n\t},\n\tbutton: {\n\t\tcolor: theme.palette.common.white,\n\t\tfontWeight: theme.typography.fontWeightMedium,\n\t\tfontSize: theme.typography.fontSize,\n\t\tcursor: 'pointer',\n\t\ttextTransform: 'uppercase'\n\t}\n});\n\nclass LanguageChanger extends Component {\n\tstatic defaultProps = {\n\t\tclasses: {}\n\t};\n\n\tstate = {\n\t\tisOpen: false\n\t};\n\n\trefContainer = React.createRef();\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tisOpen: true\n\t\t});\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t})\n\t};\n\n\tchangeLanguageHandler = (lang) => () => {\n\t\tconst { i18n } = this.props;\n\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t});\n\n\t\tif (i18n.language !== lang) {\n\t\t\ti18n.changeLanguage(lang);\n\t\t}\n\t}\n\n\trenderMenuItems(items = []) {\n\t\tconst { classes } = this.props;\n\n\t\treturn items.map(item => (\n\t\t\t<MenuItem\n\t\t\t\tkey={item}\n\t\t\t\tclassName={classes.menuItem}\n\t\t\t\tonClick={this.changeLanguageHandler(item)}\n\t\t\t\tdense\n\t\t\t>\n\t\t\t\t{item}\n\t\t\t</MenuItem>\n\t\t));\n\t}\n\n\trender() {\n\t\tconst { i18n, classes } = this.props;\n\t\tconst { isOpen } = this.state;\n\n\t\treturn (\n\t\t\t<div ref={this.refContainer}>\n\t\t\t\t<IconButton className={classes.button} onClick={this.handleClick}>\n\t\t\t\t\t{i18n.language}\n\t\t\t\t</IconButton>\n\n\t\t\t\t{this.refContainer.current && isOpen && <Menu\n\t\t\t\t\tkeepMounted\n\t\t\t\t\topen={isOpen}\n\t\t\t\t\tanchorEl={this.refContainer.current}\n\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t>\n\t\t\t\t\t{this.renderMenuItems(languages)}\n\t\t\t\t</Menu>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default withTranslation()(withStyles(styles)(LanguageChanger));","import React from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport BasketIcon from '../components/cart/basket-icon';\nimport AccountIcon from '../components/auth/account-icon';\nimport AdapterLink from '../components/common/adapter-link';\nimport Search from '../components/common/search';\nimport LanguageChanger from '../components/common/language-changer';\nimport { submitSearchForm } from '../ducks/filters';\n\n\nconst useStyles = makeStyles(theme => ({\n\taside: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tmarginLeft: 'auto'\n\t},\n\tlogoLink: {\n\t\tcolor: '#fff',\n\t\t'&:hover': {\n\t\t\tcolor: '#fff',\n\t\t\ttextDecoration: 'none'\n\t\t}\n\t}\n}));\n\nfunction Header(props) {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<AppBar position=\"sticky\">\n\t\t\t<div className=\"container\">\n\t\t\t\t<Toolbar variant=\"dense\">\n\t\t\t\t\t<Typography className={classes.logoLink} variant=\"h5\" color=\"inherit\" component={AdapterLink} to=\"/\">SHOP</Typography>\n\n\t\t\t\t\t<div className={classes.aside}>\n\t\t\t\t\t\t<Search submit={props.submitSearchForm} />\n\t\t\t\t\t\t<BasketIcon />\n\t\t\t\t\t\t<AccountIcon />\n\t\t\t\t\t\t<LanguageChanger />\n\t\t\t\t\t</div>\n\t\t\t\t</Toolbar>\n\t\t\t</div>\n\t\t</AppBar>\n\t);\n}\n\nexport default connect(null, {\n\tsubmitSearchForm\n})(Header);","import { createSelector } from 'reselect';\nimport { \n\tPRICE_ASC,\n\tPRICE_DESC,\n\tproductsSortProp,\n\tsearchValueGetter,\n\tactiveCategoryIdGetter,\n\tpriceStartGetter,\n\tpriceEndGetter,\n} from '../ducks/filters';\nimport {\n\tproductsGetter,\n\tproductsSelector\n} from '../ducks/products';\nimport { idsArraySelector } from '../ducks/cart';\n\n\nexport const productsFilteredSelector = createSelector(\n\tproductsSortProp, \n\tsearchValueGetter, \n\tactiveCategoryIdGetter,\n\tpriceStartGetter,\n\tpriceEndGetter,\n\tproductsSelector,\n\t(sortProp, search, categoryId, priceStart, priceEnd, products) => {\n\t\tlet result;\n\t\t\n\t\tswitch (sortProp) {\n\t\t\tcase PRICE_ASC: {\n\t\t\t\tresult = products.sort((a, b) => a.price - b.price);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase PRICE_DESC: {\n\t\t\t\tresult = products.sort((a, b) => b.price - a.price);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tdefault: {\n\t\t\t\tresult = products;\n\t\t\t}\n\t\t}\n\n\t\tresult = result.filter(item => {\n\t\t\tconst { price, name } = item;\n\t\t\t//filter by active category\n\t\t\tif (categoryId && item.categoryId !== categoryId) return false;\n\n\t\t\t//filter by price\n\t\t\tif (priceStart || priceEnd) {\n\t\t\t\tif (price < priceStart || (priceEnd && price > priceEnd)) return false;\n\t\t\t}\n\n\t\t\t//filter by active search\n\t\t\tif (name.toLowerCase && !item.name.toLowerCase().includes(search.toLowerCase())) return false;\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\n\t\treturn result.valueSeq().toArray();\n\t}\n);\n\nexport const sumProductsSelector = createSelector(productsGetter, idsArraySelector, (products, ids) => {\n\tif (!ids.reduce) return 0;\n\n\treturn ids.reduce((acc, cur) => {\n\t\tif (products.has(cur)) {\n\t\t\tconst product = products.get(cur);\n\t\t\treturn acc + parseInt(product.price, 10);\n\t\t}\n\n\t\treturn acc;\n\t}, 0);\n});","import React from 'react';\n\nfunction Page(props) {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<main className=\"main\">\n\t\t\t\t{props.children}\n\t\t\t</main>\n\t\t</div>\n\t);\n}\n\nexport default Page;","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useDrag } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport truncate from 'lodash/truncate';\nimport { useSnackbar } from 'notistack';\nimport { useTranslation } from 'react-i18next';\nimport AdapterLink from '../common/adapter-link';\nimport { addToCart } from '../../ducks/cart';\nimport { ProductModel, PRODUCT } from '../../ducks/products';\n\n\nconst useStyles = makeStyles(theme => ({\n  name: {\n\t\tcolor: theme.palette.common.black,\n\t\t'&:hover': {\n\t\t\tcolor: theme.palette.common.black,\n\t\t\ttextDecoration: 'none'\n\t\t}\n\t},\n}));\n\nfunction ProductCard(props) {\n\tconst { t } = useTranslation();\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst { product, addToCart } = props;\n\n\tconst spec = {\n\t\titem: {\n\t\t\tid: product.id,\n\t\t\tname: product.name,\n\t\t\ttype: PRODUCT\n\t\t},\n    collect: monitor => ({\n      isDragging: monitor.isDragging(),\n    })\n\t};\n\n\tconst classes = useStyles();\n\tconst [{ isDragging }, drag, preview] = useDrag(spec);\n\n\tconst { image, name, text, id } = product;\n\tconst truncatedText = truncate(text, {\n\t\tlength: 60,\n\t\tomission: '...'\n\t});\n\n\tconst opacity = isDragging ? 0.8 : 1;\n\n\tuseEffect(() => {\n    preview(getEmptyImage(), { captureDraggingState: true })\n  }, [preview]);\n\n\tfunction addToCartHandler() {\n\t\taddToCart(id);\n\t\tenqueueSnackbar && enqueueSnackbar(<span>{t('product.product_added', { product: product.name })}</span>, {\n\t\t\tvariant: 'success'\n\t\t});\n\t}\n\n\treturn (\n\t\t<Card style={{ opacity }}>\n\t\t\t<div ref={drag}>\n\t\t\t\t<CardMedia\n\t\t\t\t\timage={image}\n\t\t\t\t\ttitle=\"Contemplative Reptile\"\n\t\t\t\t/>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography className={classes.name}  gutterBottom variant=\"h5\" component={AdapterLink} to={`/product/${id}/`}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography gutterBottom variant=\"h4\">\n\t\t\t\t\t\t{product.price} $\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n\t\t\t\t\t\t{truncatedText}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t</div>\n\t\t\t<CardActions>\n\t\t\t\t<Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={addToCartHandler}>{t('buttons.buy')}</Button>\n\t\t\t\t<Button size=\"small\" color=\"primary\" component={AdapterLink} to={`/product/${id}/`}>{t('buttons.more_info')}</Button>\n\t\t\t</CardActions>\n\t\t</Card>\n\t);\n}\n\nProductCard.propTypes = {\n\taddToCart: PropTypes.func.isRequired,\n\tproduct: PropTypes.instanceOf(ProductModel)\n};\n\nexport default connect(null, ({\n\taddToCart\n}))(ProductCard);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\nimport ProductCard from './product-card';\nimport { ProductModel } from '../../ducks/products';\n\n\nfunction ProductList(props) {\n\tconst { t } = useTranslation();\n\tconst { products } = props;\n\n\tconst productsElements = products.map(product => (\n\t\t<div key={product.id} className=\"col-md-4\">\n\t\t\t<ProductCard product={product} />\n\t\t</div>\n\t));\n\n\tconst FallbackComponent = !products.length && (\n\t\t<div className=\"col-12\">\n\t\t\t<Typography paragraph variant=\"h4\" component=\"h2\">\n\t\t\t\t{t('product.not_found')}\n      </Typography>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t{FallbackComponent}\n\t\t\t{productsElements}\n\t\t</div>\n\t);\n}\n\nProductList.propTypes = {\n\tproducts: PropTypes.arrayOf(PropTypes.instanceOf(ProductModel))\n};\n\nexport default ProductList;","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nfunction Loader() {\n\treturn (\n\t\t<div>\n\t\t\t<CircularProgress />\n\t\t</div>\n\t)\n}\n\nexport default Loader;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useDrop } from 'react-dnd';\nimport { withTheme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport { useSnackbar } from 'notistack';\nimport { useTranslation } from 'react-i18next';\nimport { PRODUCT } from '../../ducks/products';\nimport { addToCart } from '../../ducks/cart';\n\n\nfunction CartDropTarget(props) {\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst { t } = useTranslation();\n\tconst { theme, addToCart } = props;\n\t\n\tconst spec = {\n\t\taccept: PRODUCT,\n\t\tdrop: ({ id, name }) => {\n\t\t\tif (id) {\n\t\t\t\taddToCart(id);\n\t\t\t\tenqueueSnackbar(t('product.product_added', { product: name }), {\n\t\t\t\t\tvariant: 'success'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tcollect: monitor => ({\n\t\t\tisOver: monitor.isOver(),\n\t\t\tcanDrop: monitor.canDrop()\n\t\t}),\n\t};\n\t\n\tconst [{ canDrop, isOver }, drop] = useDrop(spec);\n\n\tconst isActive = canDrop && isOver;\n\tlet backgroundColor = theme.palette.primary.light;\n\tlet borderColor = theme.palette.grey[400];\n\n\tif (isActive) {\n\t\tbackgroundColor = theme.palette.secondary.light;\n\t\tborderColor = theme.palette.common.white;\n\t} else if (canDrop) {\n\t\tbackgroundColor = theme.palette.primary.dark;\n\t}\n\n\tconst styles = {\n\t\troot: {\n\t\t\tpadding: `${theme.spacing(4)}px ${theme.spacing(3)}px`,\n\t\t\ttextAlign: 'center',\n\t\t\tcolor: theme.palette.common.white,\n\t\t\tborderWidth: '3px',\n\t\t\tborderStyle: 'dashed',\n\t\t\tborderColor,\n\t\t\tbackgroundColor\n\t\t}\n\t};\n\n\treturn (\n\t\t<Paper ref={drop} style={{ ...styles.root }}>\n\t\t\t{t('common.drop_product')}\n\t\t</Paper>\n\t)\n}\n\nCartDropTarget.propTypes = {\n\taddToCart: PropTypes.func.isRequired\n};\n\nexport default connect(null, {\n\taddToCart\n})(withTheme(CartDropTarget));","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport { withTranslation } from 'react-i18next';\nimport { \n\tCategoryModel, \n\tsetCurrentCategory, \n\tmoduleName as productsModuleName \n} from '../../ducks/filters';\n\n\nclass CategoryList extends Component {\n\tstatic propTypes = {\n\t\tactiveId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\t\tsetCurrentCategory: PropTypes.func.isRequired,\n\t\tcategories: PropTypes.arrayOf(PropTypes.instanceOf(CategoryModel)).isRequired,\n\t\tt: PropTypes.func.isRequired\n\t};\n\n\tget elements() {\n\t\tconst { categories, activeId, t } = this.props;\n\n\t\tif (!categories.length) return null;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ListItem\n\t\t\t\t\tselected={!activeId}\n\t\t\t\t\tbutton\n\t\t\t\t\tdivider\n\t\t\t\t\tonClick={this.clickHandler('')}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary={t('common.all')} />\n\t\t\t\t</ListItem>\n\n\t\t\t\t{categories.map(({ name, id }, index) => (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tselected={activeId === id}\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tdivider={index + 1 !== categories.length}\n\t\t\t\t\t\tonClick={this.clickHandler(id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemText primary={name} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tclickHandler = (id) => () => {\n\t\tconst { activeId, setCurrentCategory } = this.props;\n\n\t\tif (activeId !== id) {\n\t\t\tsetCurrentCategory(id);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst categoryElements = this.elements;\n\n\t\treturn (\n\t\t\t<Paper>\n\t\t\t\t<List component=\"nav\">\n\t\t\t\t\t{categoryElements}\n\t\t\t\t</List>\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nexport default withTranslation()(connect(state => ({\n\tactiveId: state[productsModuleName].activeCategoryId\n}), { setCurrentCategory })(CategoryList));","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Slider from '@material-ui/core/Slider';\n\nfunction RangeSlider(props) {\n\tconst { \n\t\tstep,\n\t\tmin, \n\t\tmax, \n\t\tdefaultValues,\n\t\tafterChange \n\t} = props;\n\n\tconst [start, end] = defaultValues;\n\tconst defaults = (start || end) && (start !== min || end !== max)\n\t? defaultValues\n\t: [min, max];\n\n\tconst [values, setValues] = useState(defaults);\n\n\tfunction onChangeHandler(_, values) {\n\t\tsetValues(values);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Slider\n\t\t\t\tstep={step}\n        value={values}\n\t\t\t\tmin={min}\n\t\t\t\tmax={max}\n\t\t\t\tonChange={onChangeHandler}\n        onChangeCommitted={afterChange}\n        valueLabelDisplay=\"auto\"\n        aria-labelledby=\"range-slider\"\n      />\n\t\t</div>\n\t)\n}\n\nRangeSlider.defaultProps = {\n\tstep: 10,\n\tdefaultValues: []\n};\n\nRangeSlider.propTypes = {\n\tstep: PropTypes.number,\n\tmin: PropTypes.number.isRequired,\n\tmax: PropTypes.number.isRequired,\n\tdefaultValues: PropTypes.arrayOf(PropTypes.number),\n\tafterChange: PropTypes.func.isRequired\n};\n\nexport default RangeSlider;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { withTranslation } from 'react-i18next';\nimport CategoryList from './category-list';\nimport PriceSlider from '../common/range-slider';\nimport Loader from '../common/loader';\nimport {\n\tloadFilters,\n\tcategoriesSelector,\n\tsetPrices,\n\tdefaultsGetter,\n\tpricesSelector,\n\tmoduleName\n} from '../../ducks/filters';\n\n\nconst styles = theme => ({\n\tpaper: {\n\t\tpadding: theme.spacing(2)\n\t},\n\tsubtitle: {\n\t\tfontSize: theme.typography.htmlFontSize\n\t}\n});\n\nclass FiltersContainer extends Component {\n\tstatic propTypes = {\n\t\tmin: PropTypes.number,\n\t\tmax: PropTypes.number,\n\t\tloading: PropTypes.bool.isRequired,\n\t\tloaded: PropTypes.bool.isRequired,\n\t\tsetPrices: PropTypes.func.isRequired,\n\t\tloadFilters: PropTypes.func.isRequired,\n\t\tcategories: PropTypes.arrayOf(PropTypes.object)\n\t};\n\n\tpriceAfterChangeHandler = (_, values) => {\n\t\tthis.props.setPrices(values);\n\t};\n\n\tcomponentDidMount() {\n\t\tconst { loadFilters, loading, loaded } = this.props;\n\t\tif (!loading && !loaded) loadFilters();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tloading,\n\t\t\tloaded,\n\t\t\tcategories,\n\t\t\tclasses,\n\t\t\tt,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\tprices\n\t\t} = this.props;\n\n\t\tif (loading) return <Loader />;\n\t\tif (!loaded) return null;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{categories.length && <CategoryList categories={categories} />}\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom variant=\"subtitle2\">\n\t\t\t\t\t\t{t('filters.price')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<PriceSlider\n\t\t\t\t\t\tafterChange={this.priceAfterChangeHandler}\n\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\tstep={50}\n\t\t\t\t\t\tdefaultValues={prices}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default connect(state => ({\n\tprices: pricesSelector(state),\n\tmin: defaultsGetter(state).get('priceMin'),\n\tmax: defaultsGetter(state).get('priceMax'),\n\tloading: state[moduleName].loading,\n\tloaded: state[moduleName].loaded,\n\tcategories: categoriesSelector(state)\n}), { loadFilters, setPrices })(withStyles(styles)(withTranslation()(FiltersContainer)));","import React from 'react';\nimport CartDropTarget from '../components/cart/cart-drop-target';\nimport FiltersContainer from '../components/filters/filters-container';\n\nfunction Sidebar() {\n\treturn (\n\t\t<div>\n\t\t\t<CartDropTarget />\n\t\t\t<FiltersContainer />\n\t\t</div>\n\t)\n}\n\nexport default Sidebar;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nconst styles = theme => ({\n\tmenuItem: {\n\t\tfontSize: theme.typography.fontSize\n\t},\n\tbutton: {\n\t\tfontWeight: theme.typography.fontWeightMedium,\n\t\tfontSize: theme.typography.fontSize,\n\t\tcursor: 'pointer',\n\t\ttextTransform: 'unset'\n\t}\n});\n\nclass SortDropdown extends Component {\n\tstatic propTypes = {\n\t\tonChange: PropTypes.func.isRequired,\n\t\tlabel: PropTypes.string.isRequired,\n\t\titems: PropTypes.array.isRequired\n\t};\n\t\n\tstate = {\n\t\tisOpen: false\n\t};\n\n\trefContainer = React.createRef();\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tisOpen: true\n\t\t});\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t})\n\t};\n\n\tchangeSortPropHandler = (prop) => () => {\n\t\tthis.props.onChange(prop);\n\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t});\n\t};\n\n\trenderMenuItems(items = []) {\n\t\tconst { classes } = this.props;\n\n\t\treturn items.map(({ key, label }) => (\n\t\t\t<MenuItem\n\t\t\t\tkey={key}\n\t\t\t\tclassName={classes.menuItem}\n\t\t\t\tonClick={this.changeSortPropHandler(key)}\n\t\t\t\tdense\n\t\t\t>\n\t\t\t\t{label}\n\t\t\t</MenuItem>\n\t\t));\n\t}\n\n\trender() {\n\t\tconst { classes, items, label } = this.props;\n\t\tconst { isOpen } = this.state;\n\n\t\treturn (\n\t\t\t<div ref={this.refContainer}>\n\t\t\t\t<Button className={classes.button} onClick={this.handleClick}>\n\t\t\t\t\t{label}\n\t\t\t\t\t<ArrowDropDownIcon />\n\t\t\t\t</Button>\n\n\t\t\t\t{this.refContainer.current && isOpen && <Menu\n\t\t\t\t\tkeepMounted\n\t\t\t\t\topen={isOpen}\n\t\t\t\t\tanchorEl={this.refContainer.current}\n\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t>\n\t\t\t\t\t{this.renderMenuItems(items)}\n\t\t\t\t</Menu>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default withStyles(styles)(SortDropdown);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles'\nimport { useTranslation } from 'react-i18next';\nimport SortDropdown from '../common/sort-dropdown';\nimport { sortProperties } from '../../ducks/filters';\nimport { changeSortProperty, moduleName } from '../../ducks/filters';\n\n\nconst useStyles = makeStyles(() => ({\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end',\n\t\tmarginBottom: '20px'\n\t}\n}));\n\n\nfunction SortContainer(props) {\n\tconst classes = useStyles();\n\tconst { t } = useTranslation();\n\tconst { sortProperty, changeSortProperty } = props;\n\t\n\tconst label = `${t('filters.sort_by')} ${t('filters.' + sortProperty)}`;\n\n\tconst normalizedSortPropeties = sortProperties.map(key => ({\n\t\tkey,\n\t\tlabel: t(`filters.${key}`)\n\t}))\n\n\tconst onChangeHandler = (prop) => {\n\t\tchangeSortProperty(prop);\n\t};\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<SortDropdown \n\t\t\t\tonChange={onChangeHandler}\n\t\t\t\tlabel={label}\n\t\t\t\titems={normalizedSortPropeties}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default connect(state => ({\n\tsortProperty: state[moduleName].sortProperty\n}), { changeSortProperty })(SortContainer);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport { withTranslation } from 'react-i18next';\nimport {\n\tProductModel,\n\tproductLengthGetter,\n\tloadProducts,\n\tmoduleName as productsModuleName\n} from '../ducks/products';\nimport { productsFilteredSelector } from '../redux/common-selectors';\nimport Page from '../layouts/Page';\nimport ProductList from '../components/product/product-list';\nimport Loader from '../components/common/loader';\nimport Sidebar from '../layouts/Sidebar';\nimport SortContainer from '../components/product/sort-container';\n\n\nclass HomePage extends Component {\n\tstatic propTypes = {\n\t\t\tt: PropTypes.func.isRequired,\n\t\t\tloadProducts: PropTypes.func.isRequired,\n\t\t\tproductLength: PropTypes.number.isRequired,\n\t\t\tloading: PropTypes.bool.isRequired,\n\t\t\tloaded: PropTypes.bool.isRequired,\n\t\t\tproducts: PropTypes.arrayOf(PropTypes.instanceOf(ProductModel))\n\t}\n\n\tget body() {\n\t\tconst { products, loading, loaded, t } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-9\">\n\t\t\t\t\t<SortContainer />\n\t\t\t\t\t\n\t\t\t\t\t<ProductList products={products} />\n\n\t\t\t\t\t{!loaded && (\n\t\t\t\t\t\t<Button onClick={this.loadMoreHandler} disabled={loading} variant=\"contained\" color=\"primary\">{t('buttons.load_more')}</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-md-3\">\n\t\t\t\t\t<Sidebar />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\t\n\tloadMoreHandler = () => {\n\t\tconst {\n\t\t\tloadProducts,\n\t\t\tloading,\n\t\t\tloaded,\n\t\t\tproductLength\n\t\t} = this.props;\n\n\t\tif (!loaded && !loading) loadProducts(productLength);\n\t};\n\n\tcomponentDidMount() {\n\t\tconst { loadProducts, loading, productLength } = this.props;\n\t\tif (!productLength && !loading) loadProducts();\n\t}\n\n\trender() {\n\t\tconst { loading, productLength } = this.props;\n\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t{loading && !productLength ? <Loader /> : this.body}\n\t\t\t\t</div>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nexport default withTranslation()(connect(state => ({\n\tloaded: state[productsModuleName].loaded,\n\tloading: state[productsModuleName].loading,\n\tproducts: productsFilteredSelector(state),\n\tproductLength: productLengthGetter(state)\n}), { loadProducts })(HomePage));","import React from 'react';\n\nfunction NotFound() {\n\treturn (\n\t\t<div>404</div>\n\t);\n}\n\nexport default NotFound;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withTranslation } from 'react-i18next';\nimport { withSnackbar } from 'notistack';\nimport { \n\tProductModel,\n\tloadProductById, \n\tproductByIdSelector, \n\tmoduleName as productsModuleName \n} from '../ducks/products';\nimport { addToCart } from '../ducks/cart';\nimport Page from '../layouts/Page';\nimport Loader from '../components/common/loader';\n\n\nclass ProductPage extends Component {\n\tstatic propTypes = {\n\t\tt: PropTypes.func.isRequired,\n\t\tloadProductById: PropTypes.func.isRequired,\n\t\taddToCart: PropTypes.func.isRequired,\n\t\tloading: PropTypes.bool.isRequired,\n\t\tproduct: PropTypes.instanceOf(ProductModel),\n\t\tproductId: PropTypes.oneOfType([\n\t\t\tPropTypes.number,\n\t\t\tPropTypes.string\n\t\t]).isRequired\n\t};\n\n\tpriceStyles = {\n\t\tmargin: 0\n\t};\n\n\tget body() {\n\t\tconst { product, t } = this.props;\n\t\tif (!product) return null;\n\n\t\tconst {\n\t\t\tname,\n\t\t\timage,\n\t\t\ttext,\n\t\t\tprice,\n\t\t\tcolor,\n\t\t\tmaterial,\n\t\t\tcompany,\n\t\t} = product;\n\n\t\tconst normalizedPrice = `${parseInt(price)} $`;\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-4\">\n\t\t\t\t\t<img src={image} alt=\"\" />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-md-7 offset-1\">\n\t\t\t\t\t<h1>{name}</h1>\n\n\t\t\t\t\t<p>{text}</p>\n\n\t\t\t\t\t<div className=\"row d-flex align-items-center\">\n\t\t\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t\t\t<h2 style={this.priceStyles}>{normalizedPrice}</h2>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t\t\t<Button onClick={this.buyBtnClickHandler} variant=\"contained\" size=\"large\" color=\"primary\">{t('buttons.buy_item')}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t('product.company')}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>{company}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t('product.color')}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>{color}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t('product.material')}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>{material}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tbuyBtnClickHandler = () => {\n\t\tconst { \n\t\t\tproduct: { name }, \n\t\t\tt,\n\t\t\taddToCart, \n\t\t\tproductId,\n\t\t\tenqueueSnackbar \n\t\t} = this.props;\n\n\t\taddToCart(productId);\n\t\t\n\t\tenqueueSnackbar && enqueueSnackbar(t('product.product_added', { product: name }), {\n\t\t\tvariant: 'success'\n\t\t});\n\t};\n\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tproductId,\n\t\t\tproduct,\n\t\t\tloading,\n\t\t\tloadProductById\n\t\t} = this.props;\n\n\t\tif (productId && !product && !loading) loadProductById(productId);\n\t}\n\n\trender() {\n\t\tconst { productId, loading } = this.props;\n\n\t\tif (productId === undefined) return <Redirect to=\"/\" />;\n\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t{loading ? <Loader /> : this.body}\n\t\t\t\t</div>\n\t\t\t</Page>\n\t\t)\n\t}\n}\n\nexport default withTranslation()(connect((state, ownProps) => ({\n\tproduct: productByIdSelector(state, ownProps.match.params.id),\n\tloading: state[productsModuleName].loading,\n\tproductId: ownProps.match.params.id\n}), { loadProductById, addToCart })(withSnackbar(ProductPage)));","import React from 'react'\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nconst useStyles = makeStyles(theme => ({\n\tcount: {\n\t\tmarginLeft: theme.spacing(1),\n\t\tmarginRight: theme.spacing(1)\n\t},\n\troot: {\n\t\tdisplay: 'inline-flex',\n\t\talignItems: 'center',\n\t\tmaxWidth: '100%'\n\t}\n}));\n\nfunction Counter(props) {\n\tconst classes = useStyles();\n\tconst { increment, decrement, count } = props;\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<IconButton onClick={decrement}>\n\t\t\t\t<RemoveIcon />\n\t\t\t</IconButton>\n\t\t\t<Typography className={classes.count} variant=\"h6\">{count}</Typography>\n\t\t\t<IconButton onClick={increment}>\n\t\t\t\t<AddIcon />\n\t\t\t</IconButton>\n\t\t</div>\n\t)\n}\n\nCounter.propTypes = {\n\tincrement: PropTypes.func.isRequired,\n\tdecrement: PropTypes.func.isRequired,\n\tcount: PropTypes.number\n};\n\nCounter.defaultProps = {\n\tcount: 0\n};\n\nexport default Counter;","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport TableCell from '@material-ui/core/TableCell';\n\n\nconst StyledTableCell = withStyles(theme => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.light,\n\t\tcolor: theme.palette.common.white,\n\t\tpaddingRight: theme.spacing(2)\n\t},\n\tbody: {\n\t\tfontSize: 14,\n\t\tpaddingRight: theme.spacing(2)\n\t}\n}))(TableCell);\n\nfunction CartCell(props) {\n\tconst { children, ...rest } = props;\n\n\treturn (\n\t\t<StyledTableCell {...rest}>\n\t\t\t{children}\n\t\t</StyledTableCell>\n\t)\n}\n\nexport default CartCell;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport TableRow from '@material-ui/core/TableRow';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport AdapterLink from '../common/adapter-link';\nimport Counter from '../common/counter';\nimport CartCell from './cart-cell';\nimport {\n\tdeleteProduct,\n\tdecrementProduct,\n\tincrementProduct,\n\tcountByIdSelector\n} from '../../ducks/cart';\nimport { productByIdSelector, ProductModel } from '../../ducks/products';\n\n\nconst styles = theme => ({\n\timageCell: {\n\t\twidth: theme.spacing(21)\n\t},\n\timage: {\n\t\tmaxWidth: '100%'\n\t},\n\tlink: {\n\t\tcolor: theme.palette.common.black,\n\t\t'&:hover': {\n\t\t\tcolor: theme.palette.common.black,\n\t\t\ttextDecoration: 'none'\n\t\t}\n\t}\n});\n\nclass CartRow extends Component {\n\tstatic propTypes = {\n\t\tdeleteProduct: PropTypes.func.isRequired,\n\t\tincrementProduct: PropTypes.func.isRequired,\n\t\tdecrementProduct: PropTypes.func.isRequired,\n\t\tcount: PropTypes.number,\n\t\tid: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n\t\tproduct: PropTypes.instanceOf(ProductModel).isRequired\n\t};\n\n\tdeleteHandlerClick = () => {\n\t\tconst { deleteProduct, id } = this.props;\n\t\tdeleteProduct(id);\n\t};\n\n\tincrementHandlerClick = () => {\n\t\tconst { incrementProduct, id } = this.props;\n\t\tincrementProduct(id);\n\t};\n\n\tdecrementHandlerClick = () => {\n\t\tconst { decrementProduct, id } = this.props;\n\t\tdecrementProduct(id);\n\t};\n\n\trender() {\n\t\tconst { product, id, count, classes } = this.props;\n\t\tconst { name, image, price } = product;\n\t\tconst sum = parseInt(price, 10) * count;\n\n\t\treturn (\n\t\t\t<TableRow key={id}>\n\t\t\t\t<CartCell scope=\"row\" className={classes.imageCell}>\n\t\t\t\t\t<Link to={`/product/${id}`}>\n\t\t\t\t\t\t<img className={classes.image} src={image} alt=\"\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</CartCell>\n\n\t\t\t\t<CartCell>\n\t\t\t\t\t<Typography className={classes.link} variant=\"h5\" component={AdapterLink} to={`/product/${id}`}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CartCell>\n\n\t\t\t\t<CartCell align=\"right\">\n\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t<Counter\n\t\t\t\t\t\t\tincrement={this.incrementHandlerClick}\n\t\t\t\t\t\t\tdecrement={this.decrementHandlerClick}\n\t\t\t\t\t\t\tcount={count}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Typography>\n\t\t\t\t</CartCell>\n\n\t\t\t\t<CartCell align=\"right\">\n\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t{sum} $\n\t\t\t\t\t</Typography>\n\t\t\t\t</CartCell>\n\n\t\t\t\t<CartCell align=\"center\">\n\t\t\t\t\t<IconButton color=\"inherit\" onClick={this.deleteHandlerClick}>\n\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</CartCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n}\n\nexport default connect((state, ownProps) => ({\n\tproduct: productByIdSelector(state, ownProps.id),\n\tcount: countByIdSelector(state, ownProps)\n}), ({\n\tdeleteProduct,\n\tincrementProduct,\n\tdecrementProduct\n}))(withStyles(styles)(CartRow));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { useTranslation } from 'react-i18next';\nimport CartRow from './cart-row';\nimport CartCell from './cart-cell';\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%',\n\t\tmarginTop: theme.spacing(3),\n\t\toverflowX: 'auto'\n\t},\n\ttable: {\n\t\tminWidth: 700,\n\t\tmaxWidth: '100%'\n\t}\n}));\n\nfunction CartTable(props) {\n\tconst { ids } = props;\n\tconst classes = useStyles();\n\tconst { t } = useTranslation();\n\n\tif (!ids.length) return null;\n\n\tconst body = ids.map(id => <CartRow key={id} id={id} />);\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<Table className={classes.table}>\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<CartCell>{t('cart.image')}</CartCell>\n\t\t\t\t\t\t<CartCell align=\"left\">{t('cart.name')}</CartCell>\n\t\t\t\t\t\t<CartCell align=\"right\">{t('cart.counts')}</CartCell>\n\t\t\t\t\t\t<CartCell align=\"right\">{t('cart.price')}</CartCell>\n\t\t\t\t\t\t<CartCell align=\"center\">{t('cart.delete')}</CartCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{body}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</Paper>\n\t)\n}\n\nCartTable.propTypes = {\n\tids: PropTypes.arrayOf(PropTypes.oneOfType([\n\t\tPropTypes.number, \n\t\tPropTypes.string\n\t]))\n};\n\nCartTable.defaultProps = {\n\tids: []\n};\n\nexport default CartTable;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport { useSnackbar } from 'notistack';\nimport { useTranslation } from 'react-i18next';\nimport { clearCart } from '../../ducks/cart';\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end',\n\t\tmarginTop: theme.spacing(4)\n\t},\n\tbutton: {\n\t\tmarginLeft: theme.spacing(2)\n\t}\n}));\n\nfunction CartNav(props) {\n\tconst { t } = useTranslation();\n\tconst classes = useStyles();\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst { clearCart } = props;\n\n\tfunction clearCartHandler() {\n\t\tclearCart();\n\t\t\n\t\tenqueueSnackbar(t('cart.cart_cleaned'), {\n\t\t\tvariant: 'success'\n\t\t});\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Button className={classes.button} size=\"medium\" variant=\"outlined\" color=\"primary\" onClick={clearCartHandler}>{t('buttons.clear_cart')}</Button>\n\t\t\t<Button className={classes.button} size=\"medium\" variant=\"contained\" color=\"secondary\">{t('buttons.checkout')}</Button>\n\t\t</div>\n\t)\n}\n\nCartNav.propTypes = {\n\tclearCart: PropTypes.func.isRequired\n};\n\nexport default connect(null, {\n\tclearCart\n})(CartNav);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { useTranslation } from 'react-i18next';\nimport Page from '../layouts/Page';\nimport AdapterLink from '../components/common/adapter-link';\nimport CartTable from '../components/cart/cart-table';\nimport CartNav from '../components/cart/cart-nav';\nimport { uniqIdsSelector, idsArraySelector } from '../ducks/cart';\nimport { sumProductsSelector } from '../redux/common-selectors';\n\n\nfunction CartPage(props) {\n\tconst { t } = useTranslation();\n\tconst { productsIds, sum } = props;\n\n\tconst fallback = (\n\t\t<Typography paragraph variant=\"h4\">\n\t\t\t<span>{t('cart.cart_empty')}</span>\n\n\t\t\t<Button variant=\"contained\" color=\"secondary\" component={AdapterLink} to=\"/\">\n\t\t\t\t{t('buttons.catalog')}\n      </Button>\n\t\t</Typography>\n\t);\n\n\tconst sumText = <Typography paragraph variant=\"h5\" align=\"right\">{t('cart.total_sum')} {sum} $</Typography>;\n\n\tconst body = !productsIds.length ? fallback : (\n\t\t<>\n\t\t\t<CartTable ids={productsIds} />\n\t\t\t{sumText}\n\t\t\t<CartNav />\n\t\t</>\n\t);\n\n\treturn (\n\t\t<Page>\n\t\t\t<div className=\"container\">\n\t\t\t\t{body}\n\t\t\t</div>\n\t\t</Page>\n\t);\n}\n\nCartPage.propTypes = {\n\tsum: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number\n\t]),\n\tproductsIds: PropTypes.arrayOf(PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number\n\t]))\n}\n\nexport default connect(state => {\n\tconst ids = idsArraySelector(state);\n\n\treturn ({\n\t\tproductsIds: uniqIdsSelector(state),\n\t\tsum: sumProductsSelector(state, ids),\n\t})\n})(CartPage);","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport HomePage from './pages/HomePage';\nimport NotFound from './pages/NotFound';\nimport ProductPage from './pages/ProductPage';\nimport CartPage from './pages/CartPage';\n\n\nexport const routes = [\n\t{\n\t\tpath: '/',\n\t\texact: true,\n\t\tcomponent: HomePage\n\t},\n\t{\n\t\tpath: '/product/:id',\n\t\tcomponent: ProductPage\n\t},\n\t{\n\t\tpath: '/product/',\n\t\tcomponent: ProductPage\n\t},\n\t{\n\t\tpath: '/cart/',\n\t\tcomponent: CartPage\n\t},\n\t{\n\t\tpath: '/404',\n\t\tcomponent: NotFound\n\t},\n\t{\n\t\tpath: '*',\n\t\tcomponent: NotFound\n\t}\n];\n\nexport function renderRoutes(route) {\n\tconst { path, routes, component: Component, ...rest } = route;\n\treturn (\n\t\t<Route\n\t\t\tkey={path}\n\t\t\tpath={path}\n\t\t\t{...rest}\n\t\t\trender={props => (\n\t\t\t\t<Component {...props} routes={routes} />\n\t\t\t)}\n\t\t/>\n\t)\n}","import React from 'react';\nimport { Switch } from 'react-router-dom';\nimport { routes, renderRoutes } from '../routes';\n\n\nfunction Main() {\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map(route => renderRoutes(route))}\n\t\t</Switch>\n\t);\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n\treturn (\n\t\t<div className=\"footer\">\n\t\t\t<div className=\"container\">\n\t\t\t\tfooter\n            </div>\n\t\t</div>\n\t);\n}\n\nexport default Footer;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { productByIdSelector, ProductModel } from '../../ducks/products'; \n\n\nfunction ProductDragPreview(props) {\n\tconst { name } = props.product;\n\n\treturn (\n\t\t<h2>\n\t\t\t{name}\n\t\t</h2>\n\t)\n}\n\nProductDragPreview.propTypes = {\n\tproduct: PropTypes.instanceOf(ProductModel)\n};\n\nexport default connect((state, ownProps) => ({\n\tproduct: productByIdSelector(state, ownProps.id)\n}))(ProductDragPreview);","import React, { Component } from 'react';\nimport { DragLayer } from 'react-dnd';\nimport ProuctDragPreview from '../product/product-drag-preview';\nimport { PRODUCT } from '../../ducks/products';\n\n\nconst THROTTLE_TIMEOUT = 16;\nconst FORCE_UPDATE_TIMEOUT = 50;\n\nconst layerStyles = {\n  position: 'fixed',\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n  pointerEvents: 'none'\n};\n\nfunction getCurrentPreview(item) {\n\tswitch(item.type) {\n\t\tcase PRODUCT: {\n\t\t\treturn <ProuctDragPreview {...item} />\n\t\t}\n\n\t\tdefault: return null;\n\t}\n}\n\n\nclass CustomDragLayer extends Component {\n\tlastUpdate = Date.now();\n  timer = null;\n\n  shouldComponentUpdate() {\n\t\tclearTimeout(this.timer);\n\n\t\tconst now = Date.now();\n\n    if (now - this.lastUpdate > THROTTLE_TIMEOUT) {\n      this.lastUpdate = now;\n      return true;\n    }\n\n\t\tthis.timer = setTimeout(() => {\n\t\t\tthis.forceUpdate();\n\t\t}, FORCE_UPDATE_TIMEOUT);\n\n    return false;\n  }\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timer);\n\t}\n\n\trender() {\n\t\tconst { isDragging, item, offset, clientOffset } = this.props;\n\t\t\n\t\tif (!isDragging || !item || !offset) return null;\n\n\t\tconst { x, y } = offset;\n\t\tconst shiftX = clientOffset.x - x;\n\t\tconst shiftY = clientOffset.y - y;\n\t\tconst transform = `translate(${x + shiftX}px, ${y + shiftY}px)`;\n\n\t\tconst preview = getCurrentPreview(item);\n\n\t\tif (!preview) return null; \n\t\t\n\t\treturn (\n\t\t\t<div style={layerStyles}>\n\t\t\t\t<div style={{ willChange: 'transform', transform }}>\n\t\t\t\t\t{preview}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default DragLayer(monitor => ({\n\tclientOffset: monitor.getClientOffset(),\n\toffset: monitor.getSourceClientOffset(),\n\tisDragging: monitor.isDragging(),\n\titem: monitor.getItem()\n}))(CustomDragLayer);","import React, { Component } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport './assets/sass/app.sass';\n\nimport Header from './layouts/Header';\nimport Main from './layouts/Main';\nimport Footer from './layouts/Footer';\nimport DragLayer from './components/common/drag-layer';\n\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className='wrapper'>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<Header />\n\t\t\t\t<Main />\n\t\t\t\t<Footer />\n\t\t\t\t<DragLayer />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;","import React, { Suspense } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { SnackbarProvider } from 'notistack';\nimport './libs/i18next';\nimport store from './redux/store';\nimport App from './App';\nimport Loader from './components/common/loader';\nimport { isDevelopment, appName } from './config';\n\nconst defaultTheme = createMuiTheme();\nconst basename = isDevelopment ? '/' : `/${appName}`;\n\nfunction Root() {\n\treturn (\n\t\t<ThemeProvider theme={defaultTheme}>\n\t\t\t<Provider store={store} >\n\t\t\t\t<DndProvider backend={HTML5Backend}>\n\t\t\t\t\t<SnackbarProvider \n\t\t\t\t\t\tmaxSnack={5}\n\t\t\t\t\t\tautoHideDuration={3000}\n\t\t\t\t\t\thideIconVariant\n\t\t\t\t\t\tdisableWindowBlurListener\n\t\t\t\t\t>\n\t\t\t\t\t\t<Router basename={basename}>\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<App />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t</Router>\n\t\t\t\t\t</SnackbarProvider>\n\t\t\t\t</DndProvider>\n\t\t\t</Provider>\n\t\t</ThemeProvider>\n\t);\n}\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './Root';\n// import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}