(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e,t,a){e.exports=a(305)},282:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=a(49),l=a(13),u=a(69),s=a(130),d=a(359),m=a(118),p=a(44),f=a(122),h=a(151),v=a(152),b=a.n(v),g=a(12),E="https://shop-mocky.herokuapp.com/api",y=["en","ru"];f.a.use(h.a).use(b.a).use(g.a).init({lowerCaseLng:!0,whitelist:y,preload:["en"],fallbackLng:"en",returnNull:!0,debug:!1,backend:{loadPath:"./locales/{{lng}}.json"},detection:{order:["localStorage","navigator"]},react:{wait:!0}});f.a;var O=a(43),j=a(156),C=a(157),k=a(73),S=a(59),w=a.n(S),x=a(80),I=a(28),N=a(35),R=a(158),_=a.n(R),P=a(159),T=a.n(P).a.create({mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*"},credentials:"same-origin",withCredentials:!0,crossDomain:!0});function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new I.b;return e.reduce(function(e,a){return e.set(a.id,t(a))},new I.c)}var L="".concat("shop","/").concat("products"),A="".concat(L,"/PRODUCT"),U="".concat(L,"/PRODUCTS_REQUEST"),M="".concat(L,"/PRODUCTS_SUCCESS"),H="".concat(L,"/PRODUCTS_FAILURE"),z="".concat(L,"/PRODUCT_BY_ID_REQUEST"),B="".concat(L,"/PRODUCT_BY_ID_SUCCESS"),F="".concat(L,"/PRODUCT_BY_ID_FAILURE"),W=Object(I.d)({id:"",name:"",image:"",text:"",color:"",price:0,material:"",categoryId:"",company:""},"ProductModel"),q=Object(I.d)({entities:new I.c,loading:!1,loaded:!0,error:!1},"ProductsReducerRecord");var Y=function(e){return e.products.entities},V=function(e){return e.products.entities.size},$=Object(N.a)(Y,function(e){return e}),G=Object(N.a)(Y,function(e,t){return t},function(e,t){if(t&&e.has(t))return e.get(t)});var J=a(160),Q=a.n(J),X="".concat("shop","/").concat("cart"),K="".concat(X,"/ADD_TO_CART"),Z="".concat(X,"/PRODUCT_INCREMENT"),ee="".concat(X,"/PRODUCT_DECREMENT"),te="".concat(X,"/PRODUCT_DELETE"),ae="".concat(X,"/CLEAR_CART"),ne=Object(I.d)({ids:Object(I.a)()});var re=function(e){return e.cart.ids.size},ce=Object(N.a)(function(e){return e.cart.ids},function(e){return e.toArray()}),oe=Object(N.a)(ce,function(e){return Q()(e).sort(function(e,t){return e.localeCompare(t)})}),ie=Object(N.a)(ce,function(e,t){return t.id},function(e,t){return e.filter(function(e){return e===t}).length});function le(e){return{type:K,payload:{id:e}}}var ue=a(40),se="".concat("shop","/").concat("filters"),de="price_asc",me=[de,"price_desc"],pe="".concat(se,"/SUBMIT_SEARCH_FORM"),fe="".concat(se,"/CHANGE_SORT_PROPERTY"),he="".concat(se,"/FILTERS_START"),ve="".concat(se,"/FILTERS_SUCCESS"),be="".concat(se,"/FILTERS_FAILURE"),ge="".concat(se,"/SET_CURRENT_CATEGORY"),Ee="".concat(se,"/SET_PRICES"),ye=Object(I.d)({id:"",name:""}),Oe=Object(I.d)({loaded:!1,loading:!1,categories:new I.c,activeCategoryId:"",sortProperty:de,search:"",priceStart:0,priceEnd:0,defaults:new I.b({priceMin:0,priceMax:0})});var je,Ce=function(e){return e.filters.defaults},ke=function(e){return e.filters.priceStart},Se=function(e){return e.filters.priceEnd},we=Object(N.a)(function(e){return e.filters.categories},function(e){return e.valueSeq().toArray()}),xe=Object(N.a)(ke,Se,function(e,t){return[e,t]});var Ie=Object(O.combineReducers)((je={},Object(k.a)(je,"products",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new q,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case U:case z:return e.set("loading",!0);case B:var r=n.product;return r&&!_()(r.id)?e.set("loading",!1).setIn(["entities",r.id],new W(r)):e;case M:var c=n.isLast,o=n.entities;return e.set("loading",!1).set("loaded",!!c).set("error",!1).mergeIn(["entities"],D(o,W));case F:case H:return e.set("loading",!1).set("error",!0);default:return e}}),Object(k.a)(je,"cart",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ne,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case te:return e.updateIn(["ids"],function(e){return e.filter(function(e){return e!==n.id})});case ee:return e.deleteIn(["ids",e.get("ids").indexOf(n.id)]);case Z:case K:return e.mergeIn(["ids"],n.id);case ae:return new ne;default:return e}}),Object(k.a)(je,"filters",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Oe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case pe:return e.set("search",n.value||"");case fe:return e.set("sortProperty",n.value||de);case ge:return e.set("activeCategoryId",n.id);case Ee:var r=n.start,c=n.end;return e.set("priceStart",r).set("priceEnd",c);case he:return e.set("loading",!0);case ve:var o=n.categories,i=n.price;return e.update("categories",function(e){return e.merge(D(o,ye))}).setIn(["defaults","priceMin"],i.min).setIn(["defaults","priceMax"],i.max).set("loaded",!0).set("loading",!1);case be:return e.set("loading",!1).set("error",!0);default:return e}}),je)),Ne=[C.a],Re=O.applyMiddleware.apply(void 0,Ne),_e=Object(O.createStore)(Ie,{},Object(j.composeWithDevTools)(Re)),Pe=a(22),Te=a(23),De=a(25),Le=a(24),Ae=a(358),Ue=(a(282),a(129)),Me=a(344),He=a(345),ze=a(105),Be=a(172),Fe=a(161),We=a.n(Fe),qe=a(341),Ye=a(340),Ve=r.a.forwardRef(function(e,t){return r.a.createElement(i.b,Object.assign({innerRef:t},e))}),$e=Object(Be.a)(function(){return{basketLink:{"&:hover":{color:"inherit"}}}});var Ge=Object(l.b)(function(e){return{counts:re(e)}})(function(e){var t=e.counts,a=Object(g.b)().t,n=$e(),c=t?a("cart.show_products",{counts:t}):a("cart.cart_empty_short"),o=!t;return r.a.createElement(Ye.a,{className:n.basketLink,"aria-label":c,color:"inherit",to:"/cart/",component:Ve},r.a.createElement(qe.a,{badgeContent:t,invisible:o,color:"secondary"},r.a.createElement(We.a,null)))}),Je=a(162),Qe=a.n(Je);var Xe=function(){return r.a.createElement(Ye.a,{color:"inherit"},r.a.createElement(Qe.a,null))},Ke=a(10),Ze=a(361),et=a(163),tt=a.n(et),at=Object(Ue.a)(function(e){return{search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ke.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ke.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"}}}),nt={"aria-label":"search"};var rt=function(e){var t=at(),a=Object(g.b)().t,c=e.submit,o=Object(n.useState)(""),i=Object(ue.a)(o,2),l=i[0],u=i[1];return r.a.createElement("form",{className:t.search,onSubmit:function(e){e.preventDefault(),c(l)}},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(tt.a,null)),r.a.createElement(Ze.a,{placeholder:a("common.search_product"),classes:{root:t.inputRoot,input:t.inputInput},inputProps:nt,type:"search",onChange:function(e){var t=e.target.value;""===t&&c(""),u(t)},value:l}))},ct=a(309),ot=a(360),it=a(342),lt=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={isOpen:!1},e.refContainer=r.a.createRef(),e.handleClick=function(){e.setState({isOpen:!0})},e.handleClose=function(){e.setState({isOpen:!1})},e.changeLanguageHandler=function(t){return function(){var a=e.props.i18n;e.setState({isOpen:!1}),a.language!==t&&a.changeLanguage(t)}},e}return Object(Te.a)(a,[{key:"renderMenuItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.props.classes;return t.map(function(t){return r.a.createElement(it.a,{key:t,className:a.menuItem,onClick:e.changeLanguageHandler(t),dense:!0},t)})}},{key:"render",value:function(){var e=this.props,t=e.i18n,a=e.classes,n=this.state.isOpen;return r.a.createElement("div",{ref:this.refContainer},r.a.createElement(Ye.a,{className:a.button,onClick:this.handleClick},t.language),this.refContainer.current&&n&&r.a.createElement(ot.a,{keepMounted:!0,open:n,anchorEl:this.refContainer.current,onClose:this.handleClose},this.renderMenuItems(y)))}}]),a}(n.Component);lt.defaultProps={classes:{}};var ut=Object(g.c)()(Object(ct.a)(function(e){return{menuItem:{textTransform:"uppercase",fontSize:e.typography.fontSize},button:{color:e.palette.common.white,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.fontSize,cursor:"pointer",textTransform:"uppercase"}}})(lt)),st=Object(Ue.a)(function(e){return{aside:{display:"flex",alignItems:"center",marginLeft:"auto"},logoLink:{color:"#fff","&:hover":{color:"#fff",textDecoration:"none"}}}});var dt=Object(l.b)(null,{submitSearchForm:function(e){return{type:pe,payload:{value:e}}}})(function(e){var t=st();return r.a.createElement(Me.a,{position:"sticky"},r.a.createElement("div",{className:"container"},r.a.createElement(He.a,{variant:"dense"},r.a.createElement(ze.a,{className:t.logoLink,variant:"h5",color:"inherit",component:Ve,to:"/"},"SHOP"),r.a.createElement("div",{className:t.aside},r.a.createElement(rt,{submit:e.submitSearchForm}),r.a.createElement(Ge,null),r.a.createElement(Xe,null),r.a.createElement(ut,null)))))}),mt=a(19),pt=a(102),ft=a(350),ht=Object(N.a)(function(e){return e.filters.sortProperty},function(e){return e.filters.search},function(e){return e.filters.activeCategoryId},ke,Se,$,function(e,t,a,n,r,c){var o;switch(e){case de:o=c.sort(function(e,t){return e.price-t.price});break;case"price_desc":o=c.sort(function(e,t){return t.price-e.price});break;default:o=c}return(o=o.filter(function(e){var c=e.price,o=e.name;return(!a||e.categoryId===a)&&((!n&&!r||!(c<n||r&&c>r))&&!(o.toLowerCase&&!e.name.toLowerCase().includes(t.toLowerCase())))})).valueSeq().toArray()}),vt=Object(N.a)(Y,ce,function(e,t){return t.reduce?t.reduce(function(t,a){if(e.has(a)){var n=e.get(a);return t+parseInt(n.price,10)}return t},0):0});var bt=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("main",{className:"main"},e.children))},gt=a(362),Et=a(147),yt=a(346),Ot=a(349),jt=a(348),Ct=a(347),kt=a(164),St=a.n(kt),wt=Object(Ue.a)(function(e){return{name:{color:e.palette.common.black,"&:hover":{color:e.palette.common.black,textDecoration:"none"}}}});var xt=Object(l.b)(null,{addToCart:le})(function(e){var t=Object(g.b)().t,a=Object(p.useSnackbar)().enqueueSnackbar,c=e.product,o=e.addToCart,i={item:{id:c.id,name:c.name,type:A},collect:function(e){return{isDragging:e.isDragging()}}},l=wt(),u=Object(gt.a)(i),s=Object(ue.a)(u,3),d=s[0].isDragging,m=s[1],f=s[2],h=c.image,v=c.name,b=c.text,E=c.id,y=St()(b,{length:60,omission:"..."}),O=d?.8:1;return Object(n.useEffect)(function(){f(Object(Et.a)(),{captureDraggingState:!0})},[f]),r.a.createElement(yt.a,{style:{opacity:O}},r.a.createElement("div",{ref:m},r.a.createElement(Ct.a,{image:h,title:"Contemplative Reptile"}),r.a.createElement(jt.a,null,r.a.createElement(ze.a,{className:l.name,gutterBottom:!0,variant:"h5",component:Ve,to:"/product/".concat(E,"/")},v),r.a.createElement(ze.a,{gutterBottom:!0,variant:"h4"},c.price," $"),r.a.createElement(ze.a,{variant:"body2",color:"textSecondary",component:"p"},y))),r.a.createElement(Ot.a,null,r.a.createElement(ft.a,{variant:"contained",size:"small",color:"primary",onClick:function(){o(E),a&&a(r.a.createElement("span",null,t("product.product_added",{product:c.name})),{variant:"success"})}},t("buttons.buy")),r.a.createElement(ft.a,{size:"small",color:"primary",component:Ve,to:"/product/".concat(E,"/")},t("buttons.more_info"))))});var It=function(e){var t=Object(g.b)().t,a=e.products,n=a.map(function(e){return r.a.createElement("div",{key:e.id,className:"col-md-4"},r.a.createElement(xt,{product:e}))}),c=!a.length&&r.a.createElement("div",{className:"col-12"},r.a.createElement(ze.a,{paragraph:!0,variant:"h4",component:"h2"},t("product.not_found")));return r.a.createElement("div",{className:"row"},c,n)},Nt=a(351);var Rt=function(){return r.a.createElement("div",null,r.a.createElement(Nt.a,null))},_t=a(166),Pt=a(363),Tt=a(148),Dt=a(124);var Lt=Object(l.b)(null,{addToCart:le})(Object(Tt.a)(function(e){var t=Object(p.useSnackbar)().enqueueSnackbar,a=Object(g.b)().t,n=e.theme,c=e.addToCart,o={accept:A,drop:function(e){var n=e.id,r=e.name;n&&(c(n),t(a("product.product_added",{product:r}),{variant:"success"}))},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}},i=Object(Pt.a)(o),l=Object(ue.a)(i,2),u=l[0],s=u.canDrop,d=u.isOver,m=l[1],f=s&&d,h=n.palette.primary.light,v=n.palette.grey[400];f?(h=n.palette.secondary.light,v=n.palette.common.white):s&&(h=n.palette.primary.dark);var b={root:{padding:"".concat(n.spacing(4),"px ").concat(n.spacing(3),"px"),textAlign:"center",color:n.palette.common.white,borderWidth:"3px",borderStyle:"dashed",borderColor:v,backgroundColor:h}};return r.a.createElement(Dt.a,{ref:m,style:Object(_t.a)({},b.root)},a("common.drop_product"))})),At=a(4),Ut=a(343),Mt=a(312),Ht=a(352),zt=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).clickHandler=function(t){return function(){var a=e.props,n=a.activeId,r=a.setCurrentCategory;n!==t&&r(t)}},e}return Object(Te.a)(a,[{key:"render",value:function(){var e=this.elements;return r.a.createElement(Dt.a,null,r.a.createElement(Ut.a,{component:"nav"},e))}},{key:"elements",get:function(){var e=this,t=this.props,a=t.categories,c=t.activeId,o=t.t;return a.length?r.a.createElement(n.Fragment,null,r.a.createElement(Mt.a,{selected:!c,button:!0,divider:!0,onClick:this.clickHandler("")},r.a.createElement(Ht.a,{primary:o("common.all")})),a.map(function(t,n){var o=t.name,i=t.id;return r.a.createElement(Mt.a,{key:i,selected:c===i,button:!0,divider:n+1!==a.length,onClick:e.clickHandler(i)},r.a.createElement(Ht.a,{primary:o}))})):null}}]),a}(n.Component),Bt=Object(g.c)()(Object(l.b)(function(e){return{activeId:e.filters.activeCategoryId}},{setCurrentCategory:function(e){return{type:ge,payload:{id:e}}}})(zt)),Ft=a(365);function Wt(e){var t=e.step,a=e.min,c=e.max,o=e.defaultValues,i=e.afterChange,l=Object(ue.a)(o,2),u=l[0],s=l[1],d=!u&&!s||u===a&&s===c?[a,c]:o,m=Object(n.useState)(d),p=Object(ue.a)(m,2),f=p[0],h=p[1];return r.a.createElement("div",null,r.a.createElement(Ft.a,{step:t,value:f,min:a,max:c,onChange:function(e,t){h(t)},onChangeCommitted:i,valueLabelDisplay:"auto","aria-labelledby":"range-slider"}))}Wt.defaultProps={step:10,defaultValues:[]};var qt=Wt,Yt=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).priceAfterChangeHandler=function(t,a){e.props.setPrices(a)},e}return Object(Te.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadFilters,a=e.loading,n=e.loaded;a||n||t()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.loaded,n=e.categories,c=e.classes,o=e.t,i=e.min,l=e.max,u=e.prices;return t?r.a.createElement(Rt,null):a?r.a.createElement("div",null,n.length&&r.a.createElement(Bt,{categories:n}),r.a.createElement(Dt.a,{className:c.paper},r.a.createElement(ze.a,{className:c.subtitle,gutterBottom:!0,variant:"subtitle2"},o("filters.price")),r.a.createElement(qt,{afterChange:this.priceAfterChangeHandler,min:i,max:l,step:50,defaultValues:u}))):null}}]),a}(n.Component),Vt=Object(l.b)(function(e){return{prices:xe(e),min:Ce(e).get("priceMin"),max:Ce(e).get("priceMax"),loading:e.filters.loading,loaded:e.filters.loaded,categories:we(e)}},{loadFilters:function(){return function(){var e=Object(x.a)(w.a.mark(function e(t){var a,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:he}),e.prev=1,a="".concat(E,"/filters/"),e.next=5,T.get(a);case 5:if(n=e.sent,r=n.data){e.next=9;break}return e.abrupt("return");case 9:t({type:ve,payload:{categories:r.categories,price:r.price}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t({type:be});case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()},setPrices:function(e){var t=Object(ue.a)(e,2),a=t[0],n=t[1];return{type:Ee,payload:{start:a,end:n}}}})(Object(At.a)(function(e){return{paper:{padding:e.spacing(2)},subtitle:{fontSize:e.typography.htmlFontSize}}})(Object(g.c)()(Yt)));var $t=function(){return r.a.createElement("div",null,r.a.createElement(Lt,null),r.a.createElement(Vt,null))},Gt=a(167),Jt=a.n(Gt),Qt=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={isOpen:!1},e.refContainer=r.a.createRef(),e.handleClick=function(){e.setState({isOpen:!0})},e.handleClose=function(){e.setState({isOpen:!1})},e.changeSortPropHandler=function(t){return function(){e.props.onChange(t),e.setState({isOpen:!1})}},e}return Object(Te.a)(a,[{key:"renderMenuItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.props.classes;return t.map(function(t){var n=t.key,c=t.label;return r.a.createElement(it.a,{key:n,className:a.menuItem,onClick:e.changeSortPropHandler(n),dense:!0},c)})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.items,n=e.label,c=this.state.isOpen;return r.a.createElement("div",{ref:this.refContainer},r.a.createElement(ft.a,{className:t.button,onClick:this.handleClick},n,r.a.createElement(Jt.a,null)),this.refContainer.current&&c&&r.a.createElement(ot.a,{keepMounted:!0,open:c,anchorEl:this.refContainer.current,onClose:this.handleClose},this.renderMenuItems(a)))}}]),a}(n.Component),Xt=Object(ct.a)(function(e){return{menuItem:{fontSize:e.typography.fontSize},button:{fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.fontSize,cursor:"pointer",textTransform:"unset"}}})(Qt),Kt=Object(Be.a)(function(){return{container:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"}}});var Zt=Object(l.b)(function(e){return{sortProperty:e.filters.sortProperty}},{changeSortProperty:function(e){return{type:fe,payload:{value:e}}}})(function(e){var t=Kt(),a=Object(g.b)().t,n=e.sortProperty,c=e.changeSortProperty,o="".concat(a("filters.sort_by")," ").concat(a("filters."+n)),i=me.map(function(e){return{key:e,label:a("filters.".concat(e))}});return r.a.createElement("div",{className:t.container},r.a.createElement(Xt,{onChange:function(e){c(e)},label:o,items:i}))}),ea=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).loadMoreHandler=function(){var t=e.props,a=t.loadProducts,n=t.loading,r=t.loaded,c=t.productLength;r||n||a(c)},e}return Object(Te.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadProducts,a=e.loading;e.productLength||a||t()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.productLength;return r.a.createElement(bt,null,r.a.createElement("div",{className:"container"},t&&!a?r.a.createElement(Rt,null):this.body))}},{key:"body",get:function(){var e=this.props,t=e.products,a=e.loading,n=e.loaded,c=e.t;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(Zt,null),r.a.createElement(It,{products:t}),!n&&r.a.createElement(ft.a,{onClick:this.loadMoreHandler,disabled:a,variant:"contained",color:"primary"},c("buttons.load_more"))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement($t,null)))}}]),a}(n.Component),ta=Object(g.c)()(Object(l.b)(function(e){return{loaded:e.products.loaded,loading:e.products.loading,products:ht(e),productLength:V(e)}},{loadProducts:function(e){return function(){var t=Object(x.a)(w.a.mark(function t(a){var n,r,c;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:U}),t.prev=1,n="".concat(E,"/products/").concat(e?"?offset="+e:""),t.next=5,T.get(n);case 5:if(r=t.sent,c=r.data){t.next=9;break}return t.abrupt("return");case 9:a({type:M,payload:{entities:c.products,isLast:c.isLast}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a({type:H});case 15:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()}})(ea));var aa=function(){return r.a.createElement("div",null,"404")},na=a(353),ra=a(354),ca=a(356),oa=a(355),ia=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).priceStyles={margin:0},e.buyBtnClickHandler=function(){var t=e.props,a=t.product.name,n=t.t,r=t.addToCart,c=t.productId,o=t.enqueueSnackbar;r(c),o&&o(n("product.product_added",{product:a}),{variant:"success"})},e}return Object(Te.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.productId,a=e.product,n=e.loading,r=e.loadProductById;!t||a||n||r(t)}},{key:"render",value:function(){var e=this.props,t=e.productId,a=e.loading;return void 0===t?r.a.createElement(mt.a,{to:"/"}):r.a.createElement(bt,null,r.a.createElement("div",{className:"container"},a?r.a.createElement(Rt,null):this.body))}},{key:"body",get:function(){var e=this.props,t=e.product,a=e.t;if(!t)return null;var n=t.name,c=t.image,o=t.text,i=t.price,l=t.color,u=t.material,s=t.company,d="".concat(parseInt(i)," $");return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:c,alt:""})),r.a.createElement("div",{className:"col-md-7 offset-1"},r.a.createElement("h1",null,n),r.a.createElement("p",null,o),r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("h2",{style:this.priceStyles},d)),r.a.createElement("div",{className:"col-auto"},r.a.createElement(ft.a,{onClick:this.buyBtnClickHandler,variant:"contained",size:"large",color:"primary"},a("buttons.buy_item")))),r.a.createElement(na.a,null,r.a.createElement(ra.a,null,r.a.createElement(oa.a,null,r.a.createElement(ca.a,null,a("product.company")),r.a.createElement(ca.a,null,s)),r.a.createElement(oa.a,null,r.a.createElement(ca.a,null,a("product.color")),r.a.createElement(ca.a,null,l)),r.a.createElement(oa.a,null,r.a.createElement(ca.a,null,a("product.material")),r.a.createElement(ca.a,null,u))))))}}]),a}(n.Component),la=Object(g.c)()(Object(l.b)(function(e,t){return{product:G(e,t.match.params.id),loading:e.products.loading,productId:t.match.params.id}},{loadProductById:function(e){return function(){var t=Object(x.a)(w.a.mark(function t(a){var n,r,c;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return a({type:z}),t.prev=3,n="".concat(E,"/products/").concat(e),t.next=7,T.get(n);case 7:if(r=t.sent,c=r.data){t.next=11;break}return t.abrupt("return");case 11:a({type:B,payload:{product:c.product}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),a({type:F});case 17:case"end":return t.stop()}},t,null,[[3,14]])}));return function(e){return t.apply(this,arguments)}}()},addToCart:le})(Object(p.withSnackbar)(ia))),ua=a(357),sa=a(170),da=a.n(sa),ma=a(169),pa=a.n(ma),fa=a(168),ha=a.n(fa),va=Object(Ue.a)(function(e){return{count:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},root:{display:"inline-flex",alignItems:"center",maxWidth:"100%"}}});function ba(e){var t=va(),a=e.increment,n=e.decrement,c=e.count;return r.a.createElement("div",{className:t.root},r.a.createElement(Ye.a,{onClick:n},r.a.createElement(ha.a,null)),r.a.createElement(ze.a,{className:t.count,variant:"h6"},c),r.a.createElement(Ye.a,{onClick:a},r.a.createElement(pa.a,null)))}ba.defaultProps={count:0};var ga=ba,Ea=Object(At.a)(function(e){return{head:{backgroundColor:e.palette.primary.light,color:e.palette.common.white,paddingRight:e.spacing(2)},body:{fontSize:14,paddingRight:e.spacing(2)}}})(ca.a);var ya=function(e){var t=e.children,a=Object(pt.a)(e,["children"]);return r.a.createElement(Ea,a,t)},Oa=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).deleteHandlerClick=function(){var t=e.props;(0,t.deleteProduct)(t.id)},e.incrementHandlerClick=function(){var t=e.props;(0,t.incrementProduct)(t.id)},e.decrementHandlerClick=function(){var t=e.props;(0,t.decrementProduct)(t.id)},e}return Object(Te.a)(a,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.id,n=e.count,c=e.classes,o=t.name,l=t.image,u=t.price,s=parseInt(u,10)*n;return r.a.createElement(oa.a,{key:a},r.a.createElement(ya,{scope:"row",className:c.imageCell},r.a.createElement(i.b,{to:"/product/".concat(a)},r.a.createElement("img",{className:c.image,src:l,alt:""}))),r.a.createElement(ya,null,r.a.createElement(ze.a,{className:c.link,variant:"h5",component:Ve,to:"/product/".concat(a)},o)),r.a.createElement(ya,{align:"right"},r.a.createElement(ze.a,{variant:"h6"},r.a.createElement(ga,{increment:this.incrementHandlerClick,decrement:this.decrementHandlerClick,count:n}))),r.a.createElement(ya,{align:"right"},r.a.createElement(ze.a,{variant:"h5"},s," $")),r.a.createElement(ya,{align:"center"},r.a.createElement(Ye.a,{color:"inherit",onClick:this.deleteHandlerClick},r.a.createElement(da.a,null))))}}]),a}(n.Component),ja=Object(l.b)(function(e,t){return{product:G(e,t.id),count:ie(e,t)}},{deleteProduct:function(e){return{type:te,payload:{id:e}}},incrementProduct:function(e){return{type:Z,payload:{id:e}}},decrementProduct:function(e){return{type:ee,payload:{id:e}}}})(Object(At.a)(function(e){return{imageCell:{width:e.spacing(21)},image:{maxWidth:"100%"},link:{color:e.palette.common.black,"&:hover":{color:e.palette.common.black,textDecoration:"none"}}}})(Oa)),Ca=Object(Ue.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700,maxWidth:"100%"}}});function ka(e){var t=e.ids,a=Ca(),n=Object(g.b)().t;if(!t.length)return null;var c=t.map(function(e){return r.a.createElement(ja,{key:e,id:e})});return r.a.createElement(Dt.a,{className:a.root},r.a.createElement(na.a,{className:a.table},r.a.createElement(ua.a,null,r.a.createElement(oa.a,null,r.a.createElement(ya,null,n("cart.image")),r.a.createElement(ya,{align:"left"},n("cart.name")),r.a.createElement(ya,{align:"right"},n("cart.counts")),r.a.createElement(ya,{align:"right"},n("cart.price")),r.a.createElement(ya,{align:"center"},n("cart.delete")))),r.a.createElement(ra.a,null,c)))}ka.defaultProps={ids:[]};var Sa=ka,wa=Object(Ue.a)(function(e){return{root:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(4)},button:{marginLeft:e.spacing(2)}}});var xa=Object(l.b)(null,{clearCart:function(){return{type:ae}}})(function(e){var t=Object(g.b)().t,a=wa(),n=Object(p.useSnackbar)().enqueueSnackbar,c=e.clearCart;return r.a.createElement("div",{className:a.root},r.a.createElement(ft.a,{className:a.button,size:"medium",variant:"outlined",color:"primary",onClick:function(){c(),n(t("cart.cart_cleaned"),{variant:"success"})}},t("buttons.clear_cart")),r.a.createElement(ft.a,{className:a.button,size:"medium",variant:"contained",color:"secondary"},t("buttons.checkout")))});var Ia=[{path:"/",exact:!0,component:ta},{path:"/product/:id",component:la},{path:"/product/",component:la},{path:"/cart/",component:Object(l.b)(function(e){var t=ce(e);return{productsIds:oe(e),sum:vt(e,t)}})(function(e){var t=Object(g.b)().t,a=e.productsIds,n=e.sum,c=r.a.createElement(ze.a,{paragraph:!0,variant:"h4"},r.a.createElement("span",null,t("cart.cart_empty")),r.a.createElement(ft.a,{variant:"contained",color:"secondary",component:Ve,to:"/"},t("buttons.catalog"))),o=r.a.createElement(ze.a,{paragraph:!0,variant:"h5",align:"right"},t("cart.total_sum")," ",n," $"),i=a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Sa,{ids:a}),o,r.a.createElement(xa,null)):c;return r.a.createElement(bt,null,r.a.createElement("div",{className:"container"},i))})},{path:"/404",component:aa},{path:"*",component:aa}];var Na=function(){return r.a.createElement(mt.d,null,Ia.map(function(e){return function(e){var t=e.path,a=e.routes,n=e.component,c=Object(pt.a)(e,["path","routes","component"]);return r.a.createElement(mt.b,Object.assign({key:t,path:t},c,{render:function(e){return r.a.createElement(n,Object.assign({},e,{routes:a}))}}))}(e)}))};var Ra=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container"},"footer"))},_a=a(364);var Pa=Object(l.b)(function(e,t){return{product:G(e,t.id)}})(function(e){var t=e.product.name;return r.a.createElement("h2",null,t)}),Ta={position:"fixed",top:0,bottom:0,left:0,right:0,pointerEvents:"none"};var Da=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).lastUpdate=Date.now(),e.timer=null,e}return Object(Te.a)(a,[{key:"shouldComponentUpdate",value:function(){var e=this;clearTimeout(this.timer);var t=Date.now();return t-this.lastUpdate>16?(this.lastUpdate=t,!0):(this.timer=setTimeout(function(){e.forceUpdate()},50),!1)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.isDragging,a=e.item,n=e.offset,c=e.clientOffset;if(!t||!a||!n)return null;var o=n.x,i=n.y,l=c.x-o,u=c.y-i,s="translate(".concat(o+l,"px, ").concat(i+u,"px)"),d=function(e){switch(e.type){case A:return r.a.createElement(Pa,e);default:return null}}(a);return d?r.a.createElement("div",{style:Ta},r.a.createElement("div",{style:{willChange:"transform",transform:s}},d)):null}}]),a}(n.Component),La=Object(_a.a)(function(e){return{clientOffset:e.getClientOffset(),offset:e.getSourceClientOffset(),isDragging:e.isDragging(),item:e.getItem()}})(Da),Aa=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(Pe.a)(this,a),t.apply(this,arguments)}return Object(Te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(Ae.a,null),r.a.createElement(dt,null),r.a.createElement(Na,null),r.a.createElement(Ra,null),r.a.createElement(La,null))}}]),a}(n.Component),Ua=Object(u.a)(),Ma="/".concat("shop");var Ha=function(){return r.a.createElement(s.a,{theme:Ua},r.a.createElement(l.a,{store:_e},r.a.createElement(d.a,{backend:m.a},r.a.createElement(p.SnackbarProvider,{maxSnack:5,autoHideDuration:3e3,hideIconVariant:!0,disableWindowBlurListener:!0},r.a.createElement(i.a,{basename:Ma},r.a.createElement(n.Suspense,{fallback:r.a.createElement(Rt,null)},r.a.createElement(Aa,null)))))))};o.a.render(r.a.createElement(Ha,null),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.63a88b07.chunk.js.map