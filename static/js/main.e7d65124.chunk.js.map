{"version":3,"sources":["libs/i18next.js","libs/axios.js","config.js","libs/utils.js","ducks/products.js","ducks/cart.js","ducks/filters.js","redux/reducer.js","redux/store.js","libs/history.js","components/common/adapter-link.js","components/cart/basket-icon.js","components/auth/account-icon.js","components/common/search.js","components/common/language-changer.js","layouts/Header.js","redux/common-selectors.js","layouts/Page.js","components/product/product-card.js","components/product/product-list.js","components/common/loader.js","components/cart/cart-drop-target.js","components/filters/category-list.js","components/common/range-slider.js","components/filters/filters-container.js","layouts/Sidebar.js","components/common/sort-dropdown.js","components/product/sort-container.js","pages/HomePage.js","pages/NotFound.js","pages/ProductPage.js","components/common/counter.js","components/cart/cart-cell.js","components/cart/cart-row.js","components/cart/cart-table.js","components/cart/cart-nav.js","pages/CartPage.js","routes.js","layouts/Main.js","layouts/Footer.js","components/product/product-drag-preview.js","components/common/drag-layer.js","App.js","Root.js","index.js"],"names":["languages","i18next","use","Backend","LanguageDetector","initReactI18next","init","lowerCaseLng","whitelist","preload","fallbackLng","returnNull","debug","process","backend","loadPath","detection","order","react","wait","instance","axios","create","mode","headers","Access-Control-Allow-Origin","credentials","withCredentials","crossDomain","apiUrl","mapToOrderedMap","arr","Model","arguments","length","undefined","OrderedMap","reduce","map","cur","set","id","prefix","concat","PRODUCT","PRODUCTS_REQUEST","PRODUCTS_SUCCESS","PRODUCTS_FAILURE","PRODUCT_BY_ID_REQUEST","PRODUCT_BY_ID_SUCCESS","PRODUCT_BY_ID_FAILURE","ProductModel","Record","name","image","text","color","price","material","categoryId","company","ReducerRecord","entities","loading","loaded","fullLoaded","error","productsGetter","state","productLengthGetter","size","productsSelector","createSelector","items","productByIdSelector","_","has","get","ADD_TO_CART","PRODUCT_INCREMENT","PRODUCT_DECREMENT","PRODUCT_DELETE","CLEAR_CART","ids","List","sizeGetter","idsArraySelector","toArray","uniqIdsSelector","uniq","sort","a","b","localeCompare","countByIdSelector","ownProps","filter","cartId","addToCart","type","payload","PRICE_ASC","sortProperties","SUBMIT_SEARCH_FORM","CHANGE_SORT_PROPERTY","FILTERS_START","FILTERS_SUCCESS","FILTERS_FAILURE","SET_CURRENT_CATEGORY","SET_PRICES","CategoryModel","categories","activeCategoryId","sortProperty","search","priceStart","priceEnd","defaults","Map","priceMin","priceMax","defaultsGetter","priceStartGetter","priceEndGetter","categoriesSelector","valueSeq","pricesSelector","start","end","combineReducers","_combineReducers","form","Object","defineProperty","action","product","update","isLast","merge","updateIn","deleteIn","indexOf","mergeIn","value","cats","setIn","min","max","middlewares","thunk","enhancer","applyMiddleware","apply","store","createStore","reducer","compose","window","__REDUX_DEVTOOLS_EXTENSION__","history","createBrowserHistory","React","forwardRef","props","ref","react_default","createElement","react_router_dom","assign","innerRef","useStyles","makeStyles","basketLink","&:hover","connect","counts","t","useTranslation","classes","label","cartIsEmpty","IconButton","className","aria-label","to","component","AdapterLink","Badge","badgeContent","invisible","ShoppingBasket_default","AccountIcon","AccountCircle_default","theme","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginRight","spacing","marginLeft","width","searchIcon","height","pointerEvents","display","alignItems","justifyContent","inputRoot","inputInput","padding","transition","transitions","inputProps","Search","submit","_useState","useState","_useState2","slicedToArray","inputValue","setValue","onSubmit","e","preventDefault","Search_default","InputBase","placeholder","root","input","onChange","target","LanguageChanger","isOpen","refContainer","createRef","handleClick","_this","setState","handleClose","changeLanguageHandler","lang","i18n","language","changeLanguage","_this2","this","item","MenuItem","key","menuItem","onClick","dense","_this$props","button","current","Menu","keepMounted","open","anchorEl","onClose","renderMenuItems","Component","defaultProps","withTranslation","withStyles","textTransform","fontSize","typography","fontWeight","fontWeightMedium","cursor","aside","logoLink","textDecoration","submitSearchForm","AppBar","Toolbar","variant","Typography","common_search","basket_icon","account_icon","language_changer","productsFilteredSelector","sortProp","products","result","toLowerCase","includes","sumProductsSelector","acc","parseInt","Page","children","black","enqueueSnackbar","useSnackbar","spec","collect","monitor","isDragging","_useDrag","useDrag","_useDrag2","drag","preview","truncatedText","truncate","omission","opacity","useEffect","getEmptyImage","captureDraggingState","Card","style","CardMedia","title","CardContent","gutterBottom","CardActions","Button","ProductList","productsElements","product_card","FallbackComponent","paragraph","Loader","CircularProgress","withTheme","accept","drop","_ref","isOver","canDrop","_useDrop","useDrop","_useDrop2","_useDrop2$","isActive","primary","light","borderColor","grey","secondary","dark","styles","textAlign","borderWidth","borderStyle","Paper","_objectSpread","CategoryList","clickHandler","activeId","setCurrentCategory","categoryElements","elements","_this$props2","ListItem","selected","divider","ListItemText","index","RangeSlider","step","defaultValues","afterChange","_defaultValues","values","setValues","Slider","onChangeCommitted","valueLabelDisplay","aria-labelledby","FiltersContainer","priceAfterChangeHandler","setPrices","loadFilters","prices","loader","category_list","paper","subtitle","range_slider","asyncToGenerator","regenerator_default","mark","_callee","dispatch","url","_ref2","data","wrap","_context","prev","next","sent","t0","stop","_x","_ref3","_ref4","htmlFontSize","Sidebar","cart_drop_target","filters_container","SortDropdown","changeSortPropHandler","prop","ArrowDropDown_default","container","marginBottom","changeSortProperty","normalizedSortPropeties","sort_dropdown","HomePage","loadMoreHandler","loadProducts","productLength","_this$props3","layouts_Page","body","_this$props4","sort_container","product_list","disabled","layouts_Sidebar","offset","NotFound","ProductPage","priceStyles","margin","buyBtnClickHandler","productId","loadProductById","react_router","normalizedPrice","src","alt","Table","TableBody","TableRow","TableCell","match","params","_callee2","_context2","abrupt","_x2","withSnackbar","count","maxWidth","Counter","increment","decrement","Remove_default","Add_default","StyledTableCell","head","paddingRight","CartCell","rest","objectWithoutProperties","CartRow","deleteHandlerClick","deleteProduct","incrementHandlerClick","incrementProduct","decrementHandlerClick","decrementProduct","sum","cart_cell","scope","imageCell","link","align","counter","DeleteOutline_default","marginTop","overflowX","table","minWidth","CartTable","cart_row","TableHead","clearCart","routes","path","exact","productsIds","fallback","sumText","Fragment","cart_table","cart_nav","Main","route","render","renderRoutes","Footer","layerStyles","top","bottom","left","right","CustomDragLayer","lastUpdate","Date","now","timer","clearTimeout","setTimeout","forceUpdate","clientOffset","x","y","shiftX","shiftY","transform","product_drag_preview","getCurrentPreview","willChange","DragLayer","getClientOffset","getSourceClientOffset","getItem","App","CssBaseline","layouts_Header","layouts_Main","layouts_Footer","drag_layer","defaultTheme","createMuiTheme","Root","ThemeProvider","es","DndProvider","HTML5Backend","build","maxSnack","autoHideDuration","hideIconVariant","disableWindowBlurListener","src_App","ReactDOM","src_Root","document","getElementById"],"mappings":"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","file":"static/js/main.e7d65124.chunk.js","sourcesContent":["import i18next from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nexport const languages = ['en', 'ru'];\n\nconst isDevelopment = process.env.NODE_ENV === 'development';\n\ni18next\n  .use(Backend)\n  .use(LanguageDetector)\n\t.use(initReactI18next)\n\t.init({\n\t\tlowerCaseLng: true,\n\t\twhitelist: languages,\n\t\tpreload: ['en'],\n\t\tfallbackLng: 'en',\n\t\treturnNull: !isDevelopment,\n\t\tdebug: isDevelopment,\n\t\tbackend: {\n\t\t\tloadPath: '/locales/{{lng}}.json'\n\t\t},\n\t\tdetection: {\n\t\t\torder: ['localStorage', 'navigator']\n\t\t},\n\t\treact: {\n\t\t\twait: true\n\t\t}\n\t});\n\n\texport default i18next;","import axios from 'axios';\n\nconst instance = axios.create({\n\tmode: 'no-cors',\n\theaders: {\n\t\t'Access-Control-Allow-Origin': '*'\n\t},\n\tcredentials: 'same-origin',\n\twithCredentials: true,\n\tcrossDomain: true\n});\n\nexport default instance;","const isDevelopment = process.env.NODE_ENV === 'development';\n\nexport const apiUrl = isDevelopment ? 'http://localhost:3001/api' : 'https://git.heroku.com/shop-mocky/api/';\nexport const appName = 'shop';","import { OrderedMap } from \"immutable\";\n\nexport function objectToOrderMap(obj, Model = new OrderedMap()) {\n\treturn Object.keys(obj).reduce((map, cur) => {\n\t\treturn map.set(cur, Model(obj[cur]));\n\t}, new OrderedMap());\n}\n\nexport function mapToOrderedMap(arr, Model = new OrderedMap()) {\n\treturn arr.reduce((map, cur) => {\n\t\treturn map.set(cur.id, Model(cur));\n\t}, new OrderedMap());\n}\n\nexport function immutableMapToArr(Model) {\n\treturn Model.valueSeq().toArray();\n}","import { OrderedMap, Record } from 'immutable';\nimport { createSelector } from 'reselect';\nimport axios from '../libs/axios';\nimport { appName, apiUrl } from '../config';\nimport { mapToOrderedMap } from '../libs/utils';\n\n\n/**\n *  Constants\n */\nexport const moduleName = 'products';\nconst prefix = `${appName}/${moduleName}`;\n\nexport const PRODUCT = `${prefix}/PRODUCT`;\nconst PRODUCTS_REQUEST = `${prefix}/PRODUCTS_REQUEST`;\nconst PRODUCTS_SUCCESS = `${prefix}/PRODUCTS_SUCCESS`;\nconst PRODUCTS_FAILURE = `${prefix}/PRODUCTS_FAILURE`;\n\nconst PRODUCT_BY_ID_REQUEST = `${prefix}/PRODUCT_BY_ID_REQUEST`;\nconst PRODUCT_BY_ID_SUCCESS = `${prefix}/PRODUCT_BY_ID_SUCCESS`;\nconst PRODUCT_BY_ID_FAILURE = `${prefix}/PRODUCT_BY_ID_FAILURE`;\n\n\n/**\n *  Models\n */\nexport const ProductModel = Record({\n\tid: '',\n\tname: '',\n\timage: '',\n\ttext: '',\n\tcolor: '',\n\tprice: 0,\n\tmaterial: '',\n\tcategoryId: '',\n\tcompany: ''\n}, 'ProductModel');\n\n\nconst ReducerRecord = Record({\n\tentities: new OrderedMap(),\n\tloading: false,\n\tloaded: false,\n\tfullLoaded: true,\n\terror: false\n}, 'ProductsReducerRecord');\n\n\n/**\n *  Reducer\n */\nexport default function reducer(state = new ReducerRecord(), action) {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase PRODUCTS_REQUEST:\n\t\tcase PRODUCT_BY_ID_REQUEST: {\n\t\t\treturn state.set('loading', true);\n\t\t}\n\n\t\tcase PRODUCT_BY_ID_SUCCESS: {\n\t\t\tconst { product } = payload;\n\n\t\t\tif (product && product.id) {\n\t\t\t\treturn state\n\t\t\t\t\t.set('loading', false)\n\t\t\t\t\t.update('entities', entities => entities.set(product.id, ProductModel(product)));\n\t\t\t} else {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t}\n\n\t\tcase PRODUCTS_SUCCESS: {\n\t\t\treturn state\n\t\t\t\t.set('loading', false)\n\t\t\t\t.set('loaded', true)\n\t\t\t\t.set('fullLoaded', payload.isLast)\n\t\t\t\t.set('error', false)\n\t\t\t\t.update('entities', entities => entities.merge(mapToOrderedMap(payload.entities, ProductModel)));\n\t\t}\n\n\t\tcase PRODUCT_BY_ID_FAILURE:\n\t\tcase PRODUCTS_FAILURE: {\n\t\t\treturn state\n\t\t\t\t.set('loading', false)\n\t\t\t\t.set('error', true);\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\n\n/**\n *  Selectors\n */\nexport const productsGetter = state => state[moduleName].entities;\nexport const productLengthGetter = state => state[moduleName].entities.size;\nconst productIdGetter = (_, id) => id;\n\nexport const productsSelector = createSelector(productsGetter, (items) => items);\n\nexport const productByIdSelector = createSelector(productsGetter, productIdGetter, (items, id) => {\n\tif (id && items.has(id)) return items.get(id);\n});\n\n\n/**\n *  Actions\n */\nexport function loadProducts(offset) {\n\treturn async dispatch => {\n\t\tdispatch({\n\t\t\ttype: PRODUCTS_REQUEST\n\t\t});\n\n\t\ttry {\n\t\t\tconst url = `${apiUrl}/products/${offset ? ('?offset=' + offset) : ''}`;\n\t\t\tconst { data } = await axios.get(url);\n\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCTS_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tentities: data.products,\n\t\t\t\t\tisLast: data.isLast\n\t\t\t\t}\n\t\t\t});\n\n\t\t} catch (_) {\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCTS_FAILURE\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function loadProductById(id) {\n\treturn async dispatch => {\n\t\tif (!id) return;\n\n\t\tdispatch({\n\t\t\ttype: PRODUCT_BY_ID_REQUEST\n\t\t});\n\n\t\ttry {\n\t\t\tconst url = `${apiUrl}/products/${id}`;\n\t\t\tconst { data } = await axios.get(url);\n\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCT_BY_ID_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tproduct: data.product\n\t\t\t\t}\n\t\t\t});\n\n\t\t} catch (_) {\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCT_BY_ID_FAILURE\n\t\t\t});\n\t\t}\n\t}\n}","import { List, Record } from 'immutable';\nimport { createSelector } from 'reselect';\nimport { appName } from '../config';\nimport uniq from 'lodash/uniq';\n\n\n/**\n *  Constants\n */\nexport const moduleName = 'cart';\nconst prefix = `${appName}/${moduleName}`;\n\nconst ADD_TO_CART = `${prefix}/ADD_TO_CART`;\nconst PRODUCT_INCREMENT = `${prefix}/PRODUCT_INCREMENT`;\nconst PRODUCT_DECREMENT = `${prefix}/PRODUCT_DECREMENT`;\nconst PRODUCT_DELETE = `${prefix}/PRODUCT_DELETE`;\nconst CLEAR_CART = `${prefix}/CLEAR_CART`;\n\n\n/**\n *  Models\n */\nconst ReducerRecord = Record({\n\tids: List()\n}, 'CartReducerRecord');\n\n\n/**\n *  Reducer\n */\nexport default function reducer(state = new ReducerRecord(), action) {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase PRODUCT_DELETE: {\n\t\t\treturn state.updateIn(['ids'], ids => ids.filter(id => id !== payload.id));\n\t\t}\n\n\t\tcase PRODUCT_DECREMENT: {\n\t\t\treturn state.deleteIn(['ids', state.get('ids').indexOf(payload.id)]);\n\t\t}\n\n\t\tcase PRODUCT_INCREMENT:\n\t\tcase ADD_TO_CART: {\n\t\t\treturn state.mergeIn(['ids'], payload.id);\n\t\t}\n\n\t\tcase CLEAR_CART: {\n\t\t\treturn new ReducerRecord();\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\n\n/**\n *  Selectors\n */\nexport const sizeGetter = state => state[moduleName].ids.size;\nconst idsGetter = state => state[moduleName].ids;\nconst idGetter = (_, ownProps) => ownProps.id;\n\nexport const idsArraySelector = createSelector(idsGetter, ids => ids.toArray());\n\nexport const uniqIdsSelector = createSelector(idsArraySelector, (ids) => {\n\treturn uniq(ids).sort((a, b) => a.localeCompare(b));\n});\n\nexport const countByIdSelector = createSelector(idsArraySelector, idGetter, (ids, id) => {\n\treturn ids.filter(cartId => cartId === id).length;\n});\n\n\n/**\n *  Actions\n */\nexport function addToCart(id) {\n\treturn {\n\t\ttype: ADD_TO_CART,\n\t\tpayload: { id }\n\t}\n}\n\nexport function deleteProduct(id) {\n\treturn {\n\t\ttype: PRODUCT_DELETE,\n\t\tpayload: { id }\n\t}\n}\n\nexport function clearCart() {\n\treturn {\n\t\ttype: CLEAR_CART\n\t}\n}\n\nexport function incrementProduct(id) {\n\treturn {\n\t\ttype: PRODUCT_INCREMENT,\n\t\tpayload: { id }\n\t}\n}\n\nexport function decrementProduct(id) {\n\treturn {\n\t\ttype: PRODUCT_DECREMENT,\n\t\tpayload: { id }\n\t}\n}","import { Record, OrderedMap, Map } from 'immutable';\nimport { createSelector } from 'reselect';\nimport axios from '../libs/axios';\nimport { appName, apiUrl } from '../config';\nimport { mapToOrderedMap } from '../libs/utils';\n\n\n/**\n *  Constants\n */\nexport const moduleName = 'filters';\nconst prefix = `${appName}/${moduleName}`;\n\nexport const PRICE_ASC = 'price_asc';\nexport const PRICE_DESC = 'price_desc';\nexport const sortProperties = [PRICE_ASC, PRICE_DESC];\n\nconst SUBMIT_SEARCH_FORM = `${prefix}/SUBMIT_SEARCH_FORM`;\nconst CHANGE_SORT_PROPERTY =`${prefix}/CHANGE_SORT_PROPERTY`;\n\nconst FILTERS_START = `${prefix}/FILTERS_START`;\nconst FILTERS_SUCCESS = `${prefix}/FILTERS_SUCCESS`;\nconst FILTERS_FAILURE = `${prefix}/FILTERS_FAILURE`;\n\nconst SET_CURRENT_CATEGORY = `${prefix}/SET_CURRENT_CATEGORY`;\nconst SET_PRICES = `${prefix}/SET_PRICES`;\n\n\n/**\n *  Models\n */\nexport const CategoryModel = Record({\n\tid: '',\n\tname: ''\n}, 'CategoryModel');\n\nconst ReducerRecord = Record({\n\tloaded: false,\n\tloading: false,\n\tcategories: new OrderedMap(),\n\tactiveCategoryId: '',\n\tsortProperty: PRICE_ASC,\n\tsearch: '',\n\tpriceStart: 0,\n\tpriceEnd: 0,\n\tdefaults: new Map({\n\t\tpriceMin: 0,\n\t\tpriceMax: 0\n\t})\n}, 'FiltersReducerRecord');\n\n\n/**\n *  Reducer\n */\nexport default function reducer(state = new ReducerRecord(), action) {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase SUBMIT_SEARCH_FORM: {\n\t\t\treturn state.set('search', payload.value || '');\n\t\t}\n\n\t\tcase CHANGE_SORT_PROPERTY: {\n\t\t\treturn state.set('sortProperty', payload.value || PRICE_ASC);\n\t\t}\n\n\t\tcase SET_CURRENT_CATEGORY: {\n\t\t\treturn state.set('activeCategoryId', payload.id);\n\t\t}\n\n\t\tcase SET_PRICES: {\n\t\t\tconst { start, end } = payload;\n\n\t\t\treturn state\n\t\t\t\t.set('priceStart', start)\n\t\t\t\t.set('priceEnd', end);\n\t\t}\n\n\t\tcase FILTERS_START: {\n\t\t\treturn state.set('loading', true);\n\t\t}\n\n\t\tcase FILTERS_SUCCESS: {\n\t\t\tconst { categories, price } = payload;\n\n\t\t\treturn state\n\t\t\t\t.update('categories', cats => cats.merge(mapToOrderedMap(categories, CategoryModel)))\n\t\t\t\t.setIn(['defaults', 'priceMin'], price.min)\n\t\t\t\t.setIn(['defaults', 'priceMax'], price.max)\n\t\t\t\t.set('loaded', true)\n\t\t\t\t.set('loading', false);\n\t\t}\n\n\t\tcase FILTERS_FAILURE: {\n\t\t\treturn state\n\t\t\t\t.set('loading', false)\n\t\t\t\t.set('error', true);\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\n\n/**\n *  Selectors\n */\nexport const productsSortProp = state => state[moduleName].sortProperty;\nexport const searchValueGetter = state => state[moduleName].search;\nexport const activeCategoryIdGetter = state => state[moduleName].activeCategoryId;\nconst categoriesGetter = state => state[moduleName].categories;\nexport const defaultsGetter = state => state[moduleName].defaults;\nexport const priceStartGetter = state => state[moduleName].priceStart;\nexport const priceEndGetter = state => state[moduleName].priceEnd;\n\nexport const categoriesSelector = createSelector(categoriesGetter, (categories) => {\n\treturn categories.valueSeq().toArray();\n});\n\nexport const pricesSelector = createSelector(priceStartGetter, priceEndGetter, (start, end) => [start, end]);\n\n/**\n *  Actions\n */\nexport function submitSearchForm(value) {\n\treturn {\n\t\ttype: SUBMIT_SEARCH_FORM,\n\t\tpayload: { value }\n\t}\n}\n\nexport function changeSortProperty(value) {\n\treturn {\n\t\ttype: CHANGE_SORT_PROPERTY,\n\t\tpayload: { value }\n\t}\n}\n\nexport function loadFilters() {\n\treturn async dispatch => {\n\t\tdispatch({\n\t\t\ttype: FILTERS_START\n\t\t});\n\n\t\ttry {\n\t\t\tconst url = `${apiUrl}/filters/`;\n\t\t\tconst { data } = await axios.get(url);\n\n\t\t\tdispatch({\n\t\t\t\ttype: FILTERS_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tcategories: data.categories,\n\t\t\t\t\tprice: data.price\n\t\t\t\t}\n\t\t\t});\n\n\t\t} catch (_) {\n\t\t\tdispatch({\n\t\t\t\ttype: FILTERS_FAILURE\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function setCurrentCategory(id) {\n\treturn {\n\t\ttype: SET_CURRENT_CATEGORY,\n\t\tpayload: { id }\n\t}\n}\n\nexport function setPrices([ start, end ]) {\n\treturn {\n\t\ttype: SET_PRICES,\n\t\tpayload: { start, end }\n\t}\n}","import { combineReducers } from 'redux';\nimport { reducer as form } from 'redux-form';\nimport productsReducer, { moduleName as productsModule } from '../ducks/products';\nimport cartReducer, { moduleName as cartModule } from '../ducks/cart';\nimport filtersReducer, { moduleName as filtersModule } from '../ducks/filters';\n\nexport default combineReducers({\n\tform,\n\t[productsModule]: productsReducer,\n\t[cartModule]: cartReducer,\n\t[filtersModule]: filtersReducer\n});","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './reducer';\n\nconst middlewares = [thunk];\n\nif (process.env.NODE_ENV === 'development') {\n\tconst { createLogger } = require('redux-logger');\n\tconst logger = createLogger({\n\t\tcollapsed: true,\n\t\tpredicate: (_, action) => !(action.type.includes('@@redux-form/REGISTER_FIELD') || action.type.includes('@@redux-form/UNREGISTER_FIELD'))\n\t});\n\n\tmiddlewares.push(logger);\n}\n\nconst enhancer = applyMiddleware(...middlewares);\nconst store = createStore(reducer, {}, compose(\n\tenhancer,\n\t(window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\n));\n\nexport default store;","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default React.forwardRef((props, ref) => <Link innerRef={ref} {...props} />);;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles'\nimport ShoppingBasket from '@material-ui/icons/ShoppingBasket';\nimport Badge from '@material-ui/core/Badge';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useTranslation } from 'react-i18next';\nimport AdapterLink from '../common/adapter-link';\nimport { sizeGetter } from '../../ducks/cart';\n\n\nconst useStyles = makeStyles(() => ({\n\tbasketLink: {\n\t\t'&:hover': {\n\t\t\tcolor: 'inherit'\n\t\t}\n\t}\n}));\n\nfunction BasketIcon(props) {\n\tconst { counts } = props;\n\tconst { t } = useTranslation();\n\tconst classes = useStyles();\n\tconst label = counts ? t('cart.show_products', { counts }) : t('cart.cart_empty_short');\n\tconst cartIsEmpty = !counts;\n\n\treturn (\n\t\t<IconButton\n\t\t\tclassName={classes.basketLink}\n\t\t\taria-label={label}\n\t\t\tcolor=\"inherit\"\n\t\t\tto=\"/cart/\"\n\t\t\tcomponent={AdapterLink}\n\t\t>\n\t\t\t<Badge badgeContent={counts} invisible={cartIsEmpty} color=\"secondary\">\n\t\t\t\t<ShoppingBasket />\n\t\t\t</Badge>\n\t\t</IconButton>\n\t);\n}\n\nBasketIcon.propTypes = {\n\tcounts: PropTypes.number\n};\n\nexport default connect(state => ({\n\tcounts: sizeGetter(state)\n}))(BasketIcon);","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\n\nfunction AccountIcon() {\n\treturn (\n\t\t<IconButton color=\"inherit\">\n\t\t\t<AccountCircle />\n\t\t</IconButton>\n\t);\n}\n\nexport default AccountIcon;\n\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, fade } from '@material-ui/core/styles';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useTranslation } from 'react-i18next';\n\n\nconst useStyles = makeStyles(theme => ({\n\tsearch: {\n\t\tposition: 'relative',\n\t\tborderRadius: theme.shape.borderRadius,\n\t\tbackgroundColor: fade(theme.palette.common.white, 0.15),\n\t\t'&:hover': {\n\t\t\tbackgroundColor: fade(theme.palette.common.white, 0.25),\n\t\t},\n\t\tmarginRight: theme.spacing(2),\n\t\tmarginLeft: 0,\n\t\twidth: '100%'\n\t},\n\tsearchIcon: {\n\t\twidth: theme.spacing(7),\n\t\theight: '100%',\n\t\tposition: 'absolute',\n\t\tpointerEvents: 'none',\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center'\n\t},\n\tinputRoot: {\n\t\tcolor: 'inherit'\n\t},\n\tinputInput: {\n\t\tpadding: theme.spacing(1, 1, 1, 7),\n\t\ttransition: theme.transitions.create('width'),\n\t\twidth: '100%'\n\t}\n}));\n\nconst inputProps = { 'aria-label': 'search' };\n\nfunction Search(props) {\n\tconst classes = useStyles();\n\tconst { t } = useTranslation();\n\tconst { submit } = props;\n\tconst [inputValue, setValue] = useState('');\n\n\tconst setInputValue = (e) => {\n\t\tconst value = e.target.value;\n\n\t\tif (value === '') submit('');\n\n\t\tsetValue(value);\n\t};\n\n\tconst onSubmitForm = e => {\n\t\te.preventDefault();\n\t\tsubmit(inputValue);\n\t};\n\n\treturn (\n\t\t<form className={classes.search} onSubmit={onSubmitForm}>\n\t\t\t<div className={classes.searchIcon}>\n\t\t\t\t<SearchIcon />\n\t\t\t</div>\n\t\t\t<InputBase\n\t\t\t\tplaceholder={t('common.search_product')}\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t\tinput: classes.inputInput\n\t\t\t\t}}\n\t\t\t\tinputProps={inputProps}\n\t\t\t\ttype='search'\n\t\t\t\tonChange={setInputValue}\n\t\t\t\tvalue={inputValue}\n\t\t\t/>\n\t\t</form>\n\t)\n}\n\nSearch.propTypes = {\n\tsubmit: PropTypes.func.isRequired\n};\n\nexport default Search;","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withTranslation } from 'react-i18next';\nimport { languages } from '../../libs/i18next';\n\n\nconst styles = theme => ({\n\tmenuItem: {\n\t\ttextTransform: 'uppercase',\n\t\tfontSize: theme.typography.fontSize\n\t},\n\tbutton: {\n\t\tcolor: theme.palette.common.white,\n\t\tfontWeight: theme.typography.fontWeightMedium,\n\t\tfontSize: theme.typography.fontSize,\n\t\tcursor: 'pointer',\n\t\ttextTransform: 'uppercase'\n\t}\n});\n\nclass LanguageChanger extends Component {\n\tstatic defaultProps = {\n\t\tclasses: {}\n\t};\n\n\tstate = {\n\t\tisOpen: false\n\t};\n\n\trefContainer = React.createRef();\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tisOpen: true\n\t\t});\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t})\n\t};\n\n\tchangeLanguageHandler = (lang) => () => {\n\t\tconst { i18n } = this.props;\n\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t});\n\n\t\tif (i18n.language !== lang) {\n\t\t\ti18n.changeLanguage(lang);\n\t\t}\n\t}\n\n\trenderMenuItems(items = []) {\n\t\tconst { classes } = this.props;\n\n\t\treturn items.map(item => (\n\t\t\t<MenuItem\n\t\t\t\tkey={item}\n\t\t\t\tclassName={classes.menuItem}\n\t\t\t\tonClick={this.changeLanguageHandler(item)}\n\t\t\t\tdense\n\t\t\t>\n\t\t\t\t{item}\n\t\t\t</MenuItem>\n\t\t));\n\t}\n\n\trender() {\n\t\tconst { i18n, classes } = this.props;\n\t\tconst { isOpen } = this.state;\n\n\t\treturn (\n\t\t\t<div ref={this.refContainer}>\n\t\t\t\t<IconButton className={classes.button} onClick={this.handleClick}>\n\t\t\t\t\t{i18n.language}\n\t\t\t\t</IconButton>\n\n\t\t\t\t{this.refContainer.current && isOpen && <Menu\n\t\t\t\t\tkeepMounted\n\t\t\t\t\topen={isOpen}\n\t\t\t\t\tanchorEl={this.refContainer.current}\n\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t>\n\t\t\t\t\t{this.renderMenuItems(languages)}\n\t\t\t\t</Menu>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default withTranslation()(withStyles(styles)(LanguageChanger));","import React from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport BasketIcon from '../components/cart/basket-icon';\nimport AccountIcon from '../components/auth/account-icon';\nimport AdapterLink from '../components/common/adapter-link';\nimport Search from '../components/common/search';\nimport LanguageChanger from '../components/common/language-changer';\nimport { submitSearchForm } from '../ducks/filters';\n\n\nconst useStyles = makeStyles(theme => ({\n\taside: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tmarginLeft: 'auto'\n\t},\n\tlogoLink: {\n\t\tcolor: '#fff',\n\t\t'&:hover': {\n\t\t\tcolor: '#fff',\n\t\t\ttextDecoration: 'none'\n\t\t}\n\t}\n}));\n\nfunction Header(props) {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<AppBar position=\"sticky\">\n\t\t\t<div className=\"container\">\n\t\t\t\t<Toolbar variant=\"dense\">\n\t\t\t\t\t<Typography className={classes.logoLink} variant=\"h5\" color=\"inherit\" component={AdapterLink} to=\"/\">SHOP</Typography>\n\n\t\t\t\t\t<div className={classes.aside}>\n\t\t\t\t\t\t<Search submit={props.submitSearchForm} />\n\t\t\t\t\t\t<BasketIcon />\n\t\t\t\t\t\t<AccountIcon />\n\t\t\t\t\t\t<LanguageChanger />\n\t\t\t\t\t</div>\n\t\t\t\t</Toolbar>\n\t\t\t</div>\n\t\t</AppBar>\n\t);\n}\n\nexport default connect(null, {\n\tsubmitSearchForm\n})(Header);","import { createSelector } from 'reselect';\nimport { \n\tPRICE_ASC,\n\tPRICE_DESC,\n\tproductsSortProp,\n\tsearchValueGetter,\n\tactiveCategoryIdGetter,\n\tpriceStartGetter,\n\tpriceEndGetter,\n} from '../ducks/filters';\nimport {\n\tproductsGetter,\n\tproductsSelector\n} from '../ducks/products';\nimport { idsArraySelector } from '../ducks/cart';\n\n\nexport const productsFilteredSelector = createSelector(\n\tproductsSortProp, \n\tsearchValueGetter, \n\tactiveCategoryIdGetter,\n\tpriceStartGetter,\n\tpriceEndGetter,\n\tproductsSelector,\n\t(sortProp, search, categoryId, priceStart, priceEnd, products) => {\n\t\tlet result;\n\t\t\n\t\tswitch (sortProp) {\n\t\t\tcase PRICE_ASC: {\n\t\t\t\tresult = products.sort((a, b) => a.price - b.price);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase PRICE_DESC: {\n\t\t\t\tresult = products.sort((a, b) => b.price - a.price);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tdefault: {\n\t\t\t\tresult = products;\n\t\t\t}\n\t\t}\n\n\t\tresult = result.filter(item => {\n\t\t\tconst { price, name } = item;\n\t\t\t//filter by active category\n\t\t\tif (categoryId && item.categoryId !== categoryId) return false;\n\n\t\t\t//filter by price\n\t\t\tif (priceStart || priceEnd) {\n\t\t\t\tif (price < priceStart || (priceEnd && price > priceEnd)) return false;\n\t\t\t}\n\n\t\t\t//filter by active search\n\t\t\tif (name.toLowerCase && !item.name.toLowerCase().includes(search.toLowerCase())) return false;\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\n\t\treturn result.valueSeq().toArray();\n\t}\n);\n\nexport const sumProductsSelector = createSelector(productsGetter, idsArraySelector, (products, ids) => {\n\tif (!ids.reduce) return 0;\n\n\treturn ids.reduce((acc, cur) => {\n\t\tif (products.has(cur)) {\n\t\t\tconst product = products.get(cur);\n\t\t\treturn acc + parseInt(product.price, 10);\n\t\t}\n\n\t\treturn acc;\n\t}, 0);\n});","import React from 'react';\n\nfunction Page(props) {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<main className=\"main\">\n\t\t\t\t{props.children}\n\t\t\t</main>\n\t\t</div>\n\t);\n}\n\nexport default Page;","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useDrag } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport truncate from 'lodash/truncate';\nimport { useSnackbar } from 'notistack';\nimport { useTranslation } from 'react-i18next';\nimport AdapterLink from '../common/adapter-link';\nimport { addToCart } from '../../ducks/cart';\nimport { ProductModel, PRODUCT } from '../../ducks/products';\n\n\nconst useStyles = makeStyles(theme => ({\n  name: {\n\t\tcolor: theme.palette.common.black,\n\t\t'&:hover': {\n\t\t\tcolor: theme.palette.common.black,\n\t\t\ttextDecoration: 'none'\n\t\t}\n\t},\n}));\n\nfunction ProductCard(props) {\n\tconst { t } = useTranslation();\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst { product, addToCart } = props;\n\n\tconst spec = {\n\t\titem: {\n\t\t\tid: product.id,\n\t\t\tname: product.name,\n\t\t\ttype: PRODUCT\n\t\t},\n    collect: monitor => ({\n      isDragging: monitor.isDragging(),\n    })\n\t};\n\n\tconst classes = useStyles();\n\tconst [{ isDragging }, drag, preview] = useDrag(spec);\n\n\tconst { image, name, text, id } = product;\n\tconst truncatedText = truncate(text, {\n\t\tlength: 60,\n\t\tomission: '...'\n\t});\n\n\tconst opacity = isDragging ? 0.8 : 1;\n\n\tuseEffect(() => {\n    preview(getEmptyImage(), { captureDraggingState: true })\n  }, [preview]);\n\n\tfunction addToCartHandler() {\n\t\taddToCart(id);\n\t\tenqueueSnackbar && enqueueSnackbar(<span>{t('product.product_added', { product: product.name })}</span>, {\n\t\t\tvariant: 'success'\n\t\t});\n\t}\n\n\treturn (\n\t\t<Card style={{ opacity }}>\n\t\t\t<div ref={drag}>\n\t\t\t\t<CardMedia\n\t\t\t\t\timage={image}\n\t\t\t\t\ttitle=\"Contemplative Reptile\"\n\t\t\t\t/>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography className={classes.name}  gutterBottom variant=\"h5\" component={AdapterLink} to={`/product/${id}/`}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography gutterBottom variant=\"h4\">\n\t\t\t\t\t\t{product.price} $\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n\t\t\t\t\t\t{truncatedText}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t</div>\n\t\t\t<CardActions>\n\t\t\t\t<Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={addToCartHandler}>{t('buttons.buy')}</Button>\n\t\t\t\t<Button size=\"small\" color=\"primary\" component={AdapterLink} to={`/product/${id}/`}>{t('buttons.more_info')}</Button>\n\t\t\t</CardActions>\n\t\t</Card>\n\t);\n}\n\nProductCard.propTypes = {\n\taddToCart: PropTypes.func.isRequired,\n\tproduct: PropTypes.instanceOf(ProductModel)\n};\n\nexport default connect(null, ({\n\taddToCart\n}))(ProductCard);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\nimport ProductCard from './product-card';\nimport { ProductModel } from '../../ducks/products';\n\n\nfunction ProductList(props) {\n\tconst { t } = useTranslation();\n\tconst { products } = props;\n\n\tconst productsElements = products.map(product => (\n\t\t<div key={product.id} className=\"col-md-4\">\n\t\t\t<ProductCard product={product} />\n\t\t</div>\n\t));\n\n\tconst FallbackComponent = !products.length && (\n\t\t<div className=\"col-12\">\n\t\t\t<Typography paragraph variant=\"h4\" component=\"h2\">\n\t\t\t\t{t('product.not_found')}\n      </Typography>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t{FallbackComponent}\n\t\t\t{productsElements}\n\t\t</div>\n\t);\n}\n\nProductList.propTypes = {\n\tproducts: PropTypes.arrayOf(PropTypes.instanceOf(ProductModel))\n};\n\nexport default ProductList;","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nfunction Loader() {\n\treturn (\n\t\t<div>\n\t\t\t<CircularProgress />\n\t\t</div>\n\t)\n}\n\nexport default Loader;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { useDrop } from 'react-dnd';\nimport { withTheme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport { useSnackbar } from 'notistack';\nimport { useTranslation } from 'react-i18next';\nimport { PRODUCT } from '../../ducks/products';\nimport { addToCart } from '../../ducks/cart';\n\n\nfunction CartDropTarget(props) {\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst { t } = useTranslation();\n\tconst { theme, addToCart } = props;\n\t\n\tconst spec = {\n\t\taccept: PRODUCT,\n\t\tdrop: ({ id, name }) => {\n\t\t\tif (id) {\n\t\t\t\taddToCart(id);\n\t\t\t\tenqueueSnackbar(t('product.product_added', { product: name }), {\n\t\t\t\t\tvariant: 'success'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tcollect: monitor => ({\n\t\t\tisOver: monitor.isOver(),\n\t\t\tcanDrop: monitor.canDrop()\n\t\t}),\n\t};\n\t\n\tconst [{ canDrop, isOver }, drop] = useDrop(spec);\n\n\tconst isActive = canDrop && isOver;\n\tlet backgroundColor = theme.palette.primary.light;\n\tlet borderColor = theme.palette.grey[400];\n\n\tif (isActive) {\n\t\tbackgroundColor = theme.palette.secondary.light;\n\t\tborderColor = theme.palette.common.white;\n\t} else if (canDrop) {\n\t\tbackgroundColor = theme.palette.primary.dark;\n\t}\n\n\tconst styles = {\n\t\troot: {\n\t\t\tpadding: `${theme.spacing(4)}px ${theme.spacing(3)}px`,\n\t\t\ttextAlign: 'center',\n\t\t\tcolor: theme.palette.common.white,\n\t\t\tborderWidth: '3px',\n\t\t\tborderStyle: 'dashed',\n\t\t\tborderColor,\n\t\t\tbackgroundColor\n\t\t}\n\t};\n\n\treturn (\n\t\t<Paper ref={drop} style={{ ...styles.root }}>\n\t\t\t{t('common.drop_product')}\n\t\t</Paper>\n\t)\n}\n\nCartDropTarget.propTypes = {\n\taddToCart: PropTypes.func.isRequired\n};\n\nexport default connect(null, {\n\taddToCart\n})(withTheme(CartDropTarget));","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport { withTranslation } from 'react-i18next';\nimport { \n\tCategoryModel, \n\tsetCurrentCategory, \n\tmoduleName as productsModuleName \n} from '../../ducks/filters';\n\n\nclass CategoryList extends Component {\n\tstatic propTypes = {\n\t\tactiveId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\t\tsetCurrentCategory: PropTypes.func.isRequired,\n\t\tcategories: PropTypes.arrayOf(PropTypes.instanceOf(CategoryModel)).isRequired,\n\t\tt: PropTypes.func.isRequired\n\t};\n\n\tget elements() {\n\t\tconst { categories, activeId, t } = this.props;\n\n\t\tif (!categories.length) return null;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ListItem\n\t\t\t\t\tselected={!activeId}\n\t\t\t\t\tbutton\n\t\t\t\t\tdivider\n\t\t\t\t\tonClick={this.clickHandler('')}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary={t('common.all')} />\n\t\t\t\t</ListItem>\n\n\t\t\t\t{categories.map(({ name, id }, index) => (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tselected={activeId === id}\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tdivider={index + 1 !== categories.length}\n\t\t\t\t\t\tonClick={this.clickHandler(id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemText primary={name} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tclickHandler = (id) => () => {\n\t\tconst { activeId, setCurrentCategory } = this.props;\n\n\t\tif (activeId !== id) {\n\t\t\tsetCurrentCategory(id);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst categoryElements = this.elements;\n\n\t\treturn (\n\t\t\t<Paper>\n\t\t\t\t<List component=\"nav\">\n\t\t\t\t\t{categoryElements}\n\t\t\t\t</List>\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nexport default withTranslation()(connect(state => ({\n\tactiveId: state[productsModuleName].activeCategoryId\n}), { setCurrentCategory })(CategoryList));","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Slider from '@material-ui/core/Slider';\n\nfunction RangeSlider(props) {\n\tconst { \n\t\tstep,\n\t\tmin, \n\t\tmax, \n\t\tdefaultValues,\n\t\tafterChange \n\t} = props;\n\n\tconst [start, end] = defaultValues;\n\tconst defaults = (start || end) && (start !== min || end !== max)\n\t? defaultValues\n\t: [min, max];\n\n\tconst [values, setValues] = useState(defaults);\n\n\tfunction onChangeHandler(_, values) {\n\t\tsetValues(values);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Slider\n\t\t\t\tstep={step}\n        value={values}\n\t\t\t\tmin={min}\n\t\t\t\tmax={max}\n\t\t\t\tonChange={onChangeHandler}\n        onChangeCommitted={afterChange}\n        valueLabelDisplay=\"auto\"\n        aria-labelledby=\"range-slider\"\n      />\n\t\t</div>\n\t)\n}\n\nRangeSlider.defaultProps = {\n\tstep: 10,\n\tdefaultValues: []\n};\n\nRangeSlider.propTypes = {\n\tstep: PropTypes.number,\n\tmin: PropTypes.number.isRequired,\n\tmax: PropTypes.number.isRequired,\n\tdefaultValues: PropTypes.arrayOf(PropTypes.number),\n\tafterChange: PropTypes.func.isRequired\n};\n\nexport default RangeSlider;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { withTranslation } from 'react-i18next';\nimport CategoryList from './category-list';\nimport PriceSlider from '../common/range-slider';\nimport Loader from '../common/loader';\nimport {\n\tloadFilters,\n\tcategoriesSelector,\n\tsetPrices,\n\tdefaultsGetter,\n\tpricesSelector,\n\tmoduleName\n} from '../../ducks/filters';\n\n\nconst styles = theme => ({\n\tpaper: {\n\t\tpadding: theme.spacing(2)\n\t},\n\tsubtitle: {\n\t\tfontSize: theme.typography.htmlFontSize\n\t}\n});\n\nclass FiltersContainer extends Component {\n\tstatic propTypes = {\n\t\tmin: PropTypes.number,\n\t\tmax: PropTypes.number,\n\t\tloading: PropTypes.bool.isRequired,\n\t\tloaded: PropTypes.bool.isRequired,\n\t\tsetPrices: PropTypes.func.isRequired,\n\t\tloadFilters: PropTypes.func.isRequired,\n\t\tcategories: PropTypes.arrayOf(PropTypes.object)\n\t};\n\n\tpriceAfterChangeHandler = (_, values) => {\n\t\tthis.props.setPrices(values);\n\t};\n\n\tcomponentDidMount() {\n\t\tconst { loadFilters, loading, loaded } = this.props;\n\t\tif (!loading && !loaded) loadFilters();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tloading,\n\t\t\tloaded,\n\t\t\tcategories,\n\t\t\tclasses,\n\t\t\tt,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\tprices\n\t\t} = this.props;\n\n\t\tif (loading) return <Loader />;\n\t\tif (!loaded) return null;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{categories.length && <CategoryList categories={categories} />}\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom variant=\"subtitle2\">\n\t\t\t\t\t\t{t('filters.price')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<PriceSlider\n\t\t\t\t\t\tafterChange={this.priceAfterChangeHandler}\n\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\tstep={50}\n\t\t\t\t\t\tdefaultValues={prices}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default connect(state => ({\n\tprices: pricesSelector(state),\n\tmin: defaultsGetter(state).get('priceMin'),\n\tmax: defaultsGetter(state).get('priceMax'),\n\tloading: state[moduleName].loading,\n\tloaded: state[moduleName].loaded,\n\tcategories: categoriesSelector(state)\n}), { loadFilters, setPrices })(withStyles(styles)(withTranslation()(FiltersContainer)));","import React from 'react';\nimport CartDropTarget from '../components/cart/cart-drop-target';\nimport FiltersContainer from '../components/filters/filters-container';\n\nfunction Sidebar() {\n\treturn (\n\t\t<div>\n\t\t\t<CartDropTarget />\n\t\t\t<FiltersContainer />\n\t\t</div>\n\t)\n}\n\nexport default Sidebar;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nconst styles = theme => ({\n\tmenuItem: {\n\t\tfontSize: theme.typography.fontSize\n\t},\n\tbutton: {\n\t\tfontWeight: theme.typography.fontWeightMedium,\n\t\tfontSize: theme.typography.fontSize,\n\t\tcursor: 'pointer',\n\t\ttextTransform: 'unset'\n\t}\n});\n\nclass SortDropdown extends Component {\n\tstatic propTypes = {\n\t\tonChange: PropTypes.func.isRequired,\n\t\tlabel: PropTypes.string.isRequired,\n\t\titems: PropTypes.array.isRequired\n\t};\n\t\n\tstate = {\n\t\tisOpen: false\n\t};\n\n\trefContainer = React.createRef();\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tisOpen: true\n\t\t});\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t})\n\t};\n\n\tchangeSortPropHandler = (prop) => () => {\n\t\tthis.props.onChange(prop);\n\n\t\tthis.setState({\n\t\t\tisOpen: false\n\t\t});\n\t};\n\n\trenderMenuItems(items = []) {\n\t\tconst { classes } = this.props;\n\n\t\treturn items.map(({ key, label }) => (\n\t\t\t<MenuItem\n\t\t\t\tkey={key}\n\t\t\t\tclassName={classes.menuItem}\n\t\t\t\tonClick={this.changeSortPropHandler(key)}\n\t\t\t\tdense\n\t\t\t>\n\t\t\t\t{label}\n\t\t\t</MenuItem>\n\t\t));\n\t}\n\n\trender() {\n\t\tconst { classes, items, label } = this.props;\n\t\tconst { isOpen } = this.state;\n\n\t\treturn (\n\t\t\t<div ref={this.refContainer}>\n\t\t\t\t<Button className={classes.button} onClick={this.handleClick}>\n\t\t\t\t\t{label}\n\t\t\t\t\t<ArrowDropDownIcon />\n\t\t\t\t</Button>\n\n\t\t\t\t{this.refContainer.current && isOpen && <Menu\n\t\t\t\t\tkeepMounted\n\t\t\t\t\topen={isOpen}\n\t\t\t\t\tanchorEl={this.refContainer.current}\n\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t>\n\t\t\t\t\t{this.renderMenuItems(items)}\n\t\t\t\t</Menu>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default withStyles(styles)(SortDropdown);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles'\nimport { useTranslation } from 'react-i18next';\nimport SortDropdown from '../common/sort-dropdown';\nimport { sortProperties } from '../../ducks/filters';\nimport { changeSortProperty, moduleName } from '../../ducks/filters';\n\n\nconst useStyles = makeStyles(() => ({\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end',\n\t\tmarginBottom: '20px'\n\t}\n}));\n\n\nfunction SortContainer(props) {\n\tconst classes = useStyles();\n\tconst { t } = useTranslation();\n\tconst { sortProperty, changeSortProperty } = props;\n\t\n\tconst label = `${t('filters.sort_by')} ${t('filters.' + sortProperty)}`;\n\n\tconst normalizedSortPropeties = sortProperties.map(key => ({\n\t\tkey,\n\t\tlabel: t(`filters.${key}`)\n\t}))\n\n\tconst onChangeHandler = (prop) => {\n\t\tchangeSortProperty(prop);\n\t};\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<SortDropdown \n\t\t\t\tonChange={onChangeHandler}\n\t\t\t\tlabel={label}\n\t\t\t\titems={normalizedSortPropeties}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default connect(state => ({\n\tsortProperty: state[moduleName].sortProperty\n}), { changeSortProperty })(SortContainer);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport { withTranslation } from 'react-i18next';\nimport {\n\tProductModel,\n\tproductLengthGetter,\n\tloadProducts,\n\tmoduleName as productsModuleName\n} from '../ducks/products';\nimport { productsFilteredSelector } from '../redux/common-selectors';\nimport Page from '../layouts/Page';\nimport ProductList from '../components/product/product-list';\nimport Loader from '../components/common/loader';\nimport Sidebar from '../layouts/Sidebar';\nimport SortContainer from '../components/product/sort-container';\n\n\nclass HomePage extends Component {\n\tstatic propTypes = {\n\t\t\tt: PropTypes.func.isRequired,\n\t\t\tloadProducts: PropTypes.func.isRequired,\n\t\t\tproductLength: PropTypes.number.isRequired,\n\t\t\tloading: PropTypes.bool.isRequired,\n\t\t\tloaded: PropTypes.bool.isRequired,\n\t\t\tfullLoaded: PropTypes.bool.isRequired,\n\t\t\tproducts: PropTypes.arrayOf(PropTypes.instanceOf(ProductModel))\n\t}\n\n\tget body() {\n\t\tconst { products, loading, fullLoaded, t } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-9\">\n\t\t\t\t\t<SortContainer />\n\t\t\t\t\t\n\t\t\t\t\t<ProductList products={products} />\n\n\t\t\t\t\t{!fullLoaded && (\n\t\t\t\t\t\t<Button onClick={this.loadMoreHandler} disabled={loading} variant=\"contained\" color=\"primary\">{t('buttons.load_more')}</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-md-3\">\n\t\t\t\t\t<Sidebar />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\t\n\tloadMoreHandler = () => {\n\t\tconst {\n\t\t\tloadProducts,\n\t\t\tloading,\n\t\t\tfullLoaded,\n\t\t\tproductLength\n\t\t} = this.props;\n\n\t\tif (!fullLoaded && !loading) loadProducts(productLength);\n\t};\n\n\tcomponentDidMount() {\n\t\tconst { loadProducts, loading, loaded } = this.props;\n\t\tif (!loaded && !loading) loadProducts();\n\t}\n\n\trender() {\n\t\tconst { loading, loaded } = this.props;\n\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t{loading && !loaded ? <Loader /> : this.body}\n\t\t\t\t</div>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nexport default withTranslation()(connect(state => ({\n\tloaded: state[productsModuleName].loaded,\n\tfullLoaded: state[productsModuleName].fullLoaded,\n\tloading: state[productsModuleName].loading,\n\tproducts: productsFilteredSelector(state),\n\tproductLength: productLengthGetter(state)\n}), { loadProducts })(HomePage));","import React from 'react';\n\nfunction NotFound() {\n\treturn (\n\t\t<div>404</div>\n\t);\n}\n\nexport default NotFound;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withTranslation } from 'react-i18next';\nimport { withSnackbar } from 'notistack';\nimport { \n\tProductModel,\n\tloadProductById, \n\tproductByIdSelector, \n\tmoduleName as productsModuleName \n} from '../ducks/products';\nimport { addToCart } from '../ducks/cart';\nimport Page from '../layouts/Page';\nimport Loader from '../components/common/loader';\n\n\nclass ProductPage extends Component {\n\tstatic propTypes = {\n\t\tt: PropTypes.func.isRequired,\n\t\tloadProductById: PropTypes.func.isRequired,\n\t\taddToCart: PropTypes.func.isRequired,\n\t\tloading: PropTypes.bool.isRequired,\n\t\tproduct: PropTypes.instanceOf(ProductModel),\n\t\tproductId: PropTypes.oneOfType([\n\t\t\tPropTypes.number,\n\t\t\tPropTypes.string\n\t\t]).isRequired\n\t};\n\n\tpriceStyles = {\n\t\tmargin: 0\n\t};\n\n\tget body() {\n\t\tconst { product, t } = this.props;\n\t\tif (!product) return null;\n\n\t\tconst {\n\t\t\tname,\n\t\t\timage,\n\t\t\ttext,\n\t\t\tprice,\n\t\t\tcolor,\n\t\t\tmaterial,\n\t\t\tcompany,\n\t\t} = product;\n\n\t\tconst normalizedPrice = `${parseInt(price)} $`;\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-4\">\n\t\t\t\t\t<img src={image} alt=\"\" />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-md-7 offset-1\">\n\t\t\t\t\t<h1>{name}</h1>\n\n\t\t\t\t\t<p>{text}</p>\n\n\t\t\t\t\t<div className=\"row d-flex align-items-center\">\n\t\t\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t\t\t<h2 style={this.priceStyles}>{normalizedPrice}</h2>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t\t\t<Button onClick={this.buyBtnClickHandler} variant=\"contained\" size=\"large\" color=\"primary\">{t('buttons.buy_item')}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t('product.company')}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>{company}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t('product.color')}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>{color}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t('product.material')}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>{material}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tbuyBtnClickHandler = () => {\n\t\tconst { \n\t\t\tproduct: { name }, \n\t\t\tt,\n\t\t\taddToCart, \n\t\t\tproductId,\n\t\t\tenqueueSnackbar \n\t\t} = this.props;\n\n\t\taddToCart(productId);\n\t\t\n\t\tenqueueSnackbar && enqueueSnackbar(t('product.product_added', { product: name }), {\n\t\t\tvariant: 'success'\n\t\t});\n\t};\n\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tproductId,\n\t\t\tproduct,\n\t\t\tloading,\n\t\t\tloadProductById\n\t\t} = this.props;\n\n\t\tif (productId && !product && !loading) loadProductById(productId);\n\t}\n\n\trender() {\n\t\tconst { productId, loading } = this.props;\n\n\t\tif (productId === undefined) return <Redirect to=\"/\" />;\n\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t{loading ? <Loader /> : this.body}\n\t\t\t\t</div>\n\t\t\t</Page>\n\t\t)\n\t}\n}\n\nexport default withTranslation()(connect((state, ownProps) => ({\n\tproduct: productByIdSelector(state, ownProps.match.params.id),\n\tloading: state[productsModuleName].loading,\n\tproductId: ownProps.match.params.id\n}), { loadProductById, addToCart })(withSnackbar(ProductPage)));","import React from 'react'\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nconst useStyles = makeStyles(theme => ({\n\tcount: {\n\t\tmarginLeft: theme.spacing(1),\n\t\tmarginRight: theme.spacing(1)\n\t},\n\troot: {\n\t\tdisplay: 'inline-flex',\n\t\talignItems: 'center',\n\t\tmaxWidth: '100%'\n\t}\n}));\n\nfunction Counter(props) {\n\tconst classes = useStyles();\n\tconst { increment, decrement, count } = props;\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<IconButton onClick={decrement}>\n\t\t\t\t<RemoveIcon />\n\t\t\t</IconButton>\n\t\t\t<Typography className={classes.count} variant=\"h6\">{count}</Typography>\n\t\t\t<IconButton onClick={increment}>\n\t\t\t\t<AddIcon />\n\t\t\t</IconButton>\n\t\t</div>\n\t)\n}\n\nCounter.propTypes = {\n\tincrement: PropTypes.func.isRequired,\n\tdecrement: PropTypes.func.isRequired,\n\tcount: PropTypes.number\n};\n\nCounter.defaultProps = {\n\tcount: 0\n};\n\nexport default Counter;","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport TableCell from '@material-ui/core/TableCell';\n\n\nconst StyledTableCell = withStyles(theme => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.light,\n\t\tcolor: theme.palette.common.white,\n\t\tpaddingRight: theme.spacing(2)\n\t},\n\tbody: {\n\t\tfontSize: 14,\n\t\tpaddingRight: theme.spacing(2)\n\t}\n}))(TableCell);\n\nfunction CartCell(props) {\n\tconst { children, ...rest } = props;\n\n\treturn (\n\t\t<StyledTableCell {...rest}>\n\t\t\t{children}\n\t\t</StyledTableCell>\n\t)\n}\n\nexport default CartCell;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport TableRow from '@material-ui/core/TableRow';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport AdapterLink from '../common/adapter-link';\nimport Counter from '../common/counter';\nimport CartCell from './cart-cell';\nimport {\n\tdeleteProduct,\n\tdecrementProduct,\n\tincrementProduct,\n\tcountByIdSelector\n} from '../../ducks/cart';\nimport { productByIdSelector, ProductModel } from '../../ducks/products';\n\n\nconst styles = theme => ({\n\timageCell: {\n\t\twidth: theme.spacing(21)\n\t},\n\timage: {\n\t\tmaxWidth: '100%'\n\t},\n\tlink: {\n\t\tcolor: theme.palette.common.black,\n\t\t'&:hover': {\n\t\t\tcolor: theme.palette.common.black,\n\t\t\ttextDecoration: 'none'\n\t\t}\n\t}\n});\n\nclass CartRow extends Component {\n\tstatic propTypes = {\n\t\tdeleteProduct: PropTypes.func.isRequired,\n\t\tincrementProduct: PropTypes.func.isRequired,\n\t\tdecrementProduct: PropTypes.func.isRequired,\n\t\tcount: PropTypes.number,\n\t\tid: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n\t\tproduct: PropTypes.instanceOf(ProductModel).isRequired\n\t};\n\n\tdeleteHandlerClick = () => {\n\t\tconst { deleteProduct, id } = this.props;\n\t\tdeleteProduct(id);\n\t};\n\n\tincrementHandlerClick = () => {\n\t\tconst { incrementProduct, id } = this.props;\n\t\tincrementProduct(id);\n\t};\n\n\tdecrementHandlerClick = () => {\n\t\tconst { decrementProduct, id } = this.props;\n\t\tdecrementProduct(id);\n\t};\n\n\trender() {\n\t\tconst { product, id, count, classes } = this.props;\n\t\tconst { name, image, price } = product;\n\t\tconst sum = parseInt(price, 10) * count;\n\n\t\treturn (\n\t\t\t<TableRow key={id}>\n\t\t\t\t<CartCell scope=\"row\" className={classes.imageCell}>\n\t\t\t\t\t<Link to={`/product/${id}`}>\n\t\t\t\t\t\t<img className={classes.image} src={image} alt=\"\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</CartCell>\n\n\t\t\t\t<CartCell>\n\t\t\t\t\t<Typography className={classes.link} variant=\"h5\" component={AdapterLink} to={`/product/${id}`}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CartCell>\n\n\t\t\t\t<CartCell align=\"right\">\n\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t<Counter\n\t\t\t\t\t\t\tincrement={this.incrementHandlerClick}\n\t\t\t\t\t\t\tdecrement={this.decrementHandlerClick}\n\t\t\t\t\t\t\tcount={count}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Typography>\n\t\t\t\t</CartCell>\n\n\t\t\t\t<CartCell align=\"right\">\n\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t{sum} $\n\t\t\t\t\t</Typography>\n\t\t\t\t</CartCell>\n\n\t\t\t\t<CartCell align=\"center\">\n\t\t\t\t\t<IconButton color=\"inherit\" onClick={this.deleteHandlerClick}>\n\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</CartCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n}\n\nexport default connect((state, ownProps) => ({\n\tproduct: productByIdSelector(state, ownProps.id),\n\tcount: countByIdSelector(state, ownProps)\n}), ({\n\tdeleteProduct,\n\tincrementProduct,\n\tdecrementProduct\n}))(withStyles(styles)(CartRow));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { useTranslation } from 'react-i18next';\nimport CartRow from './cart-row';\nimport CartCell from './cart-cell';\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%',\n\t\tmarginTop: theme.spacing(3),\n\t\toverflowX: 'auto'\n\t},\n\ttable: {\n\t\tminWidth: 700,\n\t\tmaxWidth: '100%'\n\t}\n}));\n\nfunction CartTable(props) {\n\tconst { ids } = props;\n\tconst classes = useStyles();\n\tconst { t } = useTranslation();\n\n\tif (!ids.length) return null;\n\n\tconst body = ids.map(id => <CartRow key={id} id={id} />);\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<Table className={classes.table}>\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<CartCell>{t('cart.image')}</CartCell>\n\t\t\t\t\t\t<CartCell align=\"left\">{t('cart.name')}</CartCell>\n\t\t\t\t\t\t<CartCell align=\"right\">{t('cart.counts')}</CartCell>\n\t\t\t\t\t\t<CartCell align=\"right\">{t('cart.price')}</CartCell>\n\t\t\t\t\t\t<CartCell align=\"center\">{t('cart.delete')}</CartCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{body}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</Paper>\n\t)\n}\n\nCartTable.propTypes = {\n\tids: PropTypes.arrayOf(PropTypes.oneOfType([\n\t\tPropTypes.number, \n\t\tPropTypes.string\n\t]))\n};\n\nCartTable.defaultProps = {\n\tids: []\n};\n\nexport default CartTable;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport { useSnackbar } from 'notistack';\nimport { useTranslation } from 'react-i18next';\nimport { clearCart } from '../../ducks/cart';\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end',\n\t\tmarginTop: theme.spacing(4)\n\t},\n\tbutton: {\n\t\tmarginLeft: theme.spacing(2)\n\t}\n}));\n\nfunction CartNav(props) {\n\tconst { t } = useTranslation();\n\tconst classes = useStyles();\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst { clearCart } = props;\n\n\tfunction clearCartHandler() {\n\t\tclearCart();\n\t\t\n\t\tenqueueSnackbar(t('cart.cart_cleaned'), {\n\t\t\tvariant: 'success'\n\t\t});\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Button className={classes.button} size=\"medium\" variant=\"outlined\" color=\"primary\" onClick={clearCartHandler}>{t('buttons.clear_cart')}</Button>\n\t\t\t<Button className={classes.button} size=\"medium\" variant=\"contained\" color=\"secondary\">{t('buttons.checkout')}</Button>\n\t\t</div>\n\t)\n}\n\nCartNav.propTypes = {\n\tclearCart: PropTypes.func.isRequired\n};\n\nexport default connect(null, {\n\tclearCart\n})(CartNav);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { useTranslation } from 'react-i18next';\nimport Page from '../layouts/Page';\nimport AdapterLink from '../components/common/adapter-link';\nimport CartTable from '../components/cart/cart-table';\nimport CartNav from '../components/cart/cart-nav';\nimport { uniqIdsSelector, idsArraySelector } from '../ducks/cart';\nimport { sumProductsSelector } from '../redux/common-selectors';\n\n\nfunction CartPage(props) {\n\tconst { t } = useTranslation();\n\tconst { productsIds, sum } = props;\n\n\tconst fallback = (\n\t\t<Typography paragraph variant=\"h4\">\n\t\t\t<span>{t('cart.cart_empty')}</span>\n\n\t\t\t<Button variant=\"contained\" color=\"secondary\" component={AdapterLink} to=\"/\">\n\t\t\t\t{t('buttons.catalog')}\n      </Button>\n\t\t</Typography>\n\t);\n\n\tconst sumText = <Typography paragraph variant=\"h5\" align=\"right\">{t('cart.total_sum')} {sum} $</Typography>;\n\n\tconst body = !productsIds.length ? fallback : (\n\t\t<>\n\t\t\t<CartTable ids={productsIds} />\n\t\t\t{sumText}\n\t\t\t<CartNav />\n\t\t</>\n\t);\n\n\treturn (\n\t\t<Page>\n\t\t\t<div className=\"container\">\n\t\t\t\t{body}\n\t\t\t</div>\n\t\t</Page>\n\t);\n}\n\nCartPage.propTypes = {\n\tsum: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number\n\t]),\n\tproductsIds: PropTypes.arrayOf(PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number\n\t]))\n}\n\nexport default connect(state => {\n\tconst ids = idsArraySelector(state);\n\n\treturn ({\n\t\tproductsIds: uniqIdsSelector(state),\n\t\tsum: sumProductsSelector(state, ids),\n\t})\n})(CartPage);","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport HomePage from './pages/HomePage';\nimport NotFound from './pages/NotFound';\nimport ProductPage from './pages/ProductPage';\nimport CartPage from './pages/CartPage';\n\nexport const routes = [\n\t{\n\t\tpath: '/',\n\t\texact: true,\n\t\tcomponent: HomePage\n\t},\n\t{\n\t\tpath: '/product/:id',\n\t\tcomponent: ProductPage\n\t},\n\t{\n\t\tpath: '/product/',\n\t\tcomponent: ProductPage\n\t},\n\t{\n\t\tpath: '/cart/',\n\t\tcomponent: CartPage\n\t},\n\t{\n\t\tpath: '/404',\n\t\tcomponent: NotFound\n\t},\n\t{\n\t\tpath: '*',\n\t\tcomponent: NotFound\n\t}\n];\n\nexport function renderRoutes(route) {\n\tconst { path, routes, component: Component, ...rest } = route;\n\treturn (\n\t\t<Route\n\t\t\tkey={path}\n\t\t\tpath={path}\n\t\t\t{...rest}\n\t\t\trender={props => (\n\t\t\t\t<Component {...props} routes={routes} />\n\t\t\t)}\n\t\t/>\n\t)\n}","import React from 'react';\nimport { Switch } from 'react-router-dom';\nimport { routes, renderRoutes } from '../routes';\n\n\nfunction Main() {\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map(route => renderRoutes(route))}\n\t\t</Switch>\n\t);\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n\treturn (\n\t\t<div className=\"footer\">\n\t\t\t<div className=\"container\">\n\t\t\t\tfooter\n            </div>\n\t\t</div>\n\t);\n}\n\nexport default Footer;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { productByIdSelector, ProductModel } from '../../ducks/products'; \n\n\nfunction ProductDragPreview(props) {\n\tconst { name } = props.product;\n\n\treturn (\n\t\t<h2>\n\t\t\t{name}\n\t\t</h2>\n\t)\n}\n\nProductDragPreview.propTypes = {\n\tproduct: PropTypes.instanceOf(ProductModel)\n};\n\nexport default connect((state, ownProps) => ({\n\tproduct: productByIdSelector(state, ownProps.id)\n}))(ProductDragPreview);","import React, { Component } from 'react';\nimport { DragLayer } from 'react-dnd';\nimport ProuctDragPreview from '../product/product-drag-preview';\nimport { PRODUCT } from '../../ducks/products';\n\n\nconst THROTTLE_TIMEOUT = 16;\nconst FORCE_UPDATE_TIMEOUT = 50;\n\nconst layerStyles = {\n  position: 'fixed',\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n  pointerEvents: 'none'\n};\n\nfunction getCurrentPreview(item) {\n\tswitch(item.type) {\n\t\tcase PRODUCT: {\n\t\t\treturn <ProuctDragPreview {...item} />\n\t\t}\n\n\t\tdefault: return null;\n\t}\n}\n\n\nclass CustomDragLayer extends Component {\n\tlastUpdate = Date.now();\n  timer = null;\n\n  shouldComponentUpdate() {\n\t\tclearTimeout(this.timer);\n\n\t\tconst now = Date.now();\n\n    if (now - this.lastUpdate > THROTTLE_TIMEOUT) {\n      this.lastUpdate = now;\n      return true;\n    }\n\n\t\tthis.timer = setTimeout(() => {\n\t\t\tthis.forceUpdate();\n\t\t}, FORCE_UPDATE_TIMEOUT);\n\n    return false;\n  }\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timer);\n\t}\n\n\trender() {\n\t\tconst { isDragging, item, offset, clientOffset } = this.props;\n\t\t\n\t\tif (!isDragging || !item || !offset) return null;\n\n\t\tconst { x, y } = offset;\n\t\tconst shiftX = clientOffset.x - x;\n\t\tconst shiftY = clientOffset.y - y;\n\t\tconst transform = `translate(${x + shiftX}px, ${y + shiftY}px)`;\n\n\t\tconst preview = getCurrentPreview(item);\n\n\t\tif (!preview) return null; \n\t\t\n\t\treturn (\n\t\t\t<div style={layerStyles}>\n\t\t\t\t<div style={{ willChange: 'transform', transform }}>\n\t\t\t\t\t{preview}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default DragLayer(monitor => ({\n\tclientOffset: monitor.getClientOffset(),\n\toffset: monitor.getSourceClientOffset(),\n\tisDragging: monitor.isDragging(),\n\titem: monitor.getItem()\n}))(CustomDragLayer);","import React, { Component } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport './assets/sass/app.sass';\n\nimport Header from './layouts/Header';\nimport Main from './layouts/Main';\nimport Footer from './layouts/Footer';\nimport DragLayer from './components/common/drag-layer';\n\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className='wrapper'>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<Header />\n\t\t\t\t<Main />\n\t\t\t\t<Footer />\n\t\t\t\t<DragLayer />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;","import React, { Suspense } from 'react';\nimport { Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { SnackbarProvider } from 'notistack';\nimport './libs/i18next';\nimport store from './redux/store';\nimport history from './libs/history';\nimport App from './App';\nimport Loader from './components/common/loader';\n\nconst defaultTheme = createMuiTheme();\n\nfunction Root() {\n\treturn (\n\t\t<ThemeProvider theme={defaultTheme}>\n\t\t\t<Provider store={store} >\n\t\t\t\t<DndProvider backend={HTML5Backend}>\n\t\t\t\t\t<SnackbarProvider \n\t\t\t\t\t\tmaxSnack={5}\n\t\t\t\t\t\tautoHideDuration={3000}\n\t\t\t\t\t\thideIconVariant\n\t\t\t\t\t\tdisableWindowBlurListener\n\t\t\t\t\t>\n\t\t\t\t\t\t<Router history={history}>\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<App />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t</Router>\n\t\t\t\t\t</SnackbarProvider>\n\t\t\t\t</DndProvider>\n\t\t\t</Provider>\n\t\t</ThemeProvider>\n\t);\n}\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './Root';\n// import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}